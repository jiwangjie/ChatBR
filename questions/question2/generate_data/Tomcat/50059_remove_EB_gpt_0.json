{
  "id": "50059",
  "title": "Bug 50059: Resources not served from /WEBINF/lib/{.jar}/METAINF/resources if metadatacomplete=\"true\" is set in web.xml",
  "description": "When a Servlet 3.0 webapp (named 'foo') has the metadatacomplete=\"true\" attribute set in the /WEBIBNF/web.xml, resources are not served from /WEBINF/lib/{.jar}/METAINF/resources. However, this behavior is unexpected as it should serve these resources regardless of the metadatacomplete attribute.",
  "OB": "Upon starting the web app in Tomcat 7.0.2 and navigating to http://localhost:8080/foo/index.html in a browser, the expected result is a 200 response and the serving of index.html. However, the actual result is a 404 error. If you modify the web.xml to metadatacomplete=\"false\" and restart the app, /foo/index.html responds as expected. It's worth noting that the same web app behaves as expected in Glassfish v3.0.1, irrespective of the value set for the metadatacomplete attribute.",
  "EB": "When metadatacomplete=\"true\" is set in the web.xml of a Servlet 3.0 webapp, resources located at /WEBINF/lib/{.jar}/METAINF/resources should be served without any issues. This includes accessing http://localhost:8080/foo/index.html, which should result in a 200 response and the successful serving of index.html.",
  "SR": "To reproduce the issue:\n1. Create a JAR file that contains a single /METAINF/resources/index.html file.\n2. Configure a Servlet 3.0 web app (e.g., 'foo') with the metadatacomplete=\"true\" attribute in the /WEBIBNF/web.xml.\n3. Start the web app in Tomcat 7.0.2.\n4. In a web browser, go to http://localhost:8080/foo/index.html.\n5. Expected result: A 200 response and successful serving of index.html.\n6. Actual result: A 404 error is encountered.\n7. To verify the difference, modify the web.xml to metadatacomplete=\"false\" and restart the app. This time, /foo/index.html should respond as expected. Additionally, you can try the same web app with Glassfish v3.0.1 to observe the expected behavior regardless of the metadatacomplete attribute setting. It's also worth noting that, according to the Servlet 3.0 spec, metadatacomplete is expected to regulate annotation and web fragment processing, which should not affect the serving of resources like index.html."
}
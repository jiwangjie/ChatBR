{
  "id": "49195",
  "title": "Using 1 as shutdown port with Windows service works, but prints error message",
  "description": "When specifying <Server port=\"1\" in server.xml, the Windows service works as expected, but it prints an error message. There could be improvements on how to stop Tomcat. System.exit(0) would work regardless of all that. I suppose that jsvc may show the same behavior, but I have not tried.",
  "OB": "When using 1 as the shutdown port with the Windows service, it works correctly, but it prints the following error message in the catalina.20100427.log:\n\n27.04.2010 17:49:13 org.apache.catalina.startup.Catalina stopServer\nSEVERE: No shutdown port configured. Server not shut down.\n\nIt is just a message. Tomcat stops regardless of it. After printing the message, Catalina's stopServer() performs System.exit(1) which results in Tomcat shutdown. I think that when the service launcher stops Tomcat, Catalina's server is not null.",
  "EB": "If this is the intended behavior, it would be better to use wait(10000) instead of sleep(10000) in StandardServer.await(), so that it could be woken by a notifyAll() call, or use an interrupt() call to wake it up (if we know the thread).",
  "SR": "To reproduce the issue:\n1. Specify <Server port=\"1\" in the server.xml configuration file.\n2. Run the Tomcat Windows service.\n3. Check the catalina.20100427.log for the error message mentioned in the observed behavior."
}
{
  "id": "21706",
  "title": "Bug 21706 - BidiUtil in win32 has Class.forName() usage",
  "description": "BidiUtil in win32 has Class.forName() usage, leading to NoClassDefFoundError",
  "OB": "In the source code, there is a line in org.eclipse.swt.internal.BidiUtil that uses Class.forName to create a Callback. This usage of Class.forName is problematic as it throws a NoClassDefFoundError, which is not defined in the CLDC class libraries. This issue affects the CLDC version of SWT and may go unnoticed during compilation as the compiler assumes the existence of NoClassDefFoundError. The problem only becomes apparent when verifying or using jxeLink or similar tools.",
  "EB": "The expected behavior should be to modify the code by adding a private constructor to the BidiUtil class. Since there are no non-static methods in this class, adding a private constructor is a good practice to prevent unnecessary instantiation. This change does not add any additional size to the code, as the compiler provides a free public constructor by default. Making the constructor private instead of public will resolve the issue.",
  "SR": "To reproduce this bug, follow these steps:\n1. Open the source code of org.eclipse.swt.internal.BidiUtil in the win32 version of SWT.\n2. Locate the line that initializes a Callback using Class.forName.\n3. Compile the code, and you will encounter a NoClassDefFoundError related to the usage of Class.forName."
}
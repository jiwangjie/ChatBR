{
  "id": "21706",
  "title": "Bug 21706 - BidiUtil in win32 throws NoClassDefFoundError due to Class.forName() usage",
  "description": "The BidiUtil class in the win32 version uses Class.forName() which leads to a NoClassDefFoundError. This issue needs resolution.",
  "OB": "In the win32 version, the BidiUtil class contains the following line: 'static Callback callback = new Callback (BidiUtil.class, \"windowProc\", 4);'. It is worth noting that 'BidiUtil.class' is syntactic sugar for 'Class.forName(\"org...BidiUtil\").' The problem here is that this method throws a 'NoClassDefFoundError,' which is not defined in the CLDC class libraries. This leads to an issue in the CLDC version of SWT. It's important to highlight that this problem becomes apparent when verifying or using jxeLink or a similar tool. The compiler generates the call automatically and assumes that 'NoClassDefFoundError' is available, so there are no compiler errors from the Eclipse compiler or Sun's compiler. Thus, there's a need for a change to address this problem.",
  "EB": "The expected behavior is that the BidiUtil class in the win32 version should not use 'Class.forName()' in a way that causes a 'NoClassDefFoundError.' Instead, it should be refactored to remove the reflection and prevent this error.",
  "SR": "To reproduce this issue, follow these steps:\n1. Open the win32 version of the software.\n2. Navigate to the 'BidiUtil' class.\n3. Look for the line: 'static Callback callback = new Callback (BidiUtil.class, \"windowProc\", 4);'\n4. Observe how this line uses 'Class.forName(\"org...BidiUtil\").'\n5. Execute or verify the software using a tool like jxeLink.\n6. Notice the 'NoClassDefFoundError' that occurs due to this usage. This is the issue that needs to be resolved."
}
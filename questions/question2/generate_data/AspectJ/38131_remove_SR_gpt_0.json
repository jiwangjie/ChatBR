{
  "id": "38131",
  "title": "Bug 38131 - AspectJ Compiler (ajc) Requires '-d .' Option for Compiling Subpackages",
  "description": "The bug report highlights a regression in AspectJ Compiler (ajc) version 1.1rc1 compared to javac. When compiling classes from subpackages using ajc, it creates a 'subpackage' directory under the existing 'subpackage' directory, leading to issues when running the 'java' command. The report suggests that this regression might be related to changes in the underlying Eclipse compiler.",
  "OB": "When compiling a class from a subpackage using the 'ajc' command, it generates a 'subpackage' directory within the existing 'subpackage' directory. This behavior causes problems when running the 'java' command, resulting in a 'java.lang.NoClassDefFoundError' for 'subpackage/Test.'",
  "EB": "The expected behavior is that ajc should compile subpackages without creating duplicate subdirectories, which is consistent with the behavior of 'javac.' It would be preferable for ajc to match the behavior of javac in this regard.",
  "SR": "To reproduce the issue, create a class in a subpackage as follows:\n\n1. Define a class in the 'subpackage' package with a 'main' method that prints 'Hello.'\n\n```java\npackage subpackage;\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(\"Hello\");\n    }\n}\n```\n\n2. Compile the class using the 'ajc' command with the following syntax:\n\n```shell\najc subpackage\\Test.java\n```\n\n3. After compilation, observe that a 'subpackage' directory is created under the existing 'subpackage' directory.\n\n4. Attempt to run the compiled class using the 'java' command:\n\n```shell\njava subpackage/Test\n```\n\n5. This will result in a 'java.lang.NoClassDefFoundError' for 'subpackage/Test.'\n\n6. To fix the problem, use the following 'ajc' command with the '-d .' option:\n\n```shell\najc -d . subpackage\\Test.java\n```\n\n7. After using the '-d .' option, the issue is resolved, and running the 'java' command no longer results in errors."
}
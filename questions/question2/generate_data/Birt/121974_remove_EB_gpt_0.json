{
  "id": "121974",
  "title": "Can't evaluate global expressions when ResultIterator is not in the iteration loop",
  "description": "Global expressions, such as {params[\"p1\"]},{new DateTime()}, should always be available and evaluable within the BIRT scripting environment. Currently, Dte scriptExpression has three types: BEFOREFIRSTROW, AFTERLASTROW, ONEACHROW.",
  "OB": "Global expressions like {params[\"p1\"]},{new DateTime()} should always be available and evaluable within the BIRT scripting environment. However, BEFOREFIRSTROW only works when the cursor is about to enter the first row, and AFTERLASTROW only works when the cursor is about to leave the last row. Once the iteration is finished, both types cease to work. Trying to evaluate these expressions after the iteration results in a 'QueryResults or its iterator has been closed' DataException. In reality, these global expressions have no direct connection with the data row iteration. Additionally, the current BEFOREFIRSTROW/AFTERLASTROW names are misleading and should be changed to ONSTARTROW and ONENDROW or other names that provide clearer distinctions. This bug is currently blocking the chart from evaluating non-data row expressions (e.g., expressions from title URL actions) that are not within a data row iteration, as the chart needs to evaluate these expressions after data binding.",
  "EB": "Global expressions like {params[\"p1\"]},{new DateTime()} should be consistently evaluable in the BIRT scripting environment, regardless of the cursor's position in the data row iteration. The current BEFOREFIRSTROW and AFTERLASTROW names should be replaced with more descriptive names like ONSTARTROW and ONENDROW to avoid confusion.",
  "SR": "To reproduce the issue, perform the following steps:\n1. Use global expressions like {params[\"p1\"]},{new DateTime()} within the BIRT scripting environment.\n2. Observe that BEFOREFIRSTROW only works when the cursor is about to enter the first row, and AFTERLASTROW only works when the cursor is about to leave the last row.\n3. Complete the iteration.\n4. Attempt to evaluate these global expressions again, and you will encounter a 'QueryResults or its iterator has been closed' DataException. This behavior demonstrates that these global expressions are not directly tied to data row iteration." 
}
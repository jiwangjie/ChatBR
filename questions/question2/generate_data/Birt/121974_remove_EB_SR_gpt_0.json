{
  "id": "121974",
  "title": "Can't evaluate global expressions when ResultIterator is not in the iteration loop",
  "description": "Global expressions, such as {params[\"p1\"]},{new DateTime()}, should always be available and evaluable within the BIRT scripting environment. Currently, Dte scriptExpression has three types: BEFOREFIRSTROW, AFTERLASTROW, ONEACHROW.",
  "OB": "Global expressions are not available for evaluation once the data row iteration is finished. BEFOREFIRSTROW only works when the cursor enters the first row, and AFTERLASTROW only works when the cursor leaves the last row. Trying to evaluate these expressions after the iteration results in a 'QueryResults or its iterator has been closed' DataException. This limitation affects chart evaluation of non-data row expressions, such as expressions from title URL actions, which are not within a data row iteration. The current BEFOREFIRSTROW/AFTERLASTROW nomenclature is misleading and should be changed to ONSTARTROW and ONENDROW, or other names that provide clearer distinctions.",
  "EB": "Global expressions, including BEFOREFIRSTROW and AFTERLASTROW, should remain available for evaluation even after the data row iteration is finished. The restriction that causes a 'QueryResults or its iterator has been closed' DataException should be removed. The naming of BEFOREFIRSTROW and AFTERLASTROW should be updated to ONSTARTROW and ONENDROW or similar terms to reflect their actual behavior.",
  "SR": "1. Open a BIRT report that contains global expressions, including BEFOREFIRSTROW and AFTERLASTROW.\n2. Verify that the report contains a chart that needs to evaluate non-data row expressions from actions after data binding.\n3. Execute the report, allowing the data row iteration to complete.\n4. Observe that attempting to evaluate global expressions, especially BEFOREFIRSTROW and AFTERLASTROW, results in a 'QueryResults or its iterator has been closed' DataException.\n5. Note that the issue also affects non-data row expressions within the chart.\n6. Suggest renaming BEFOREFIRSTROW and AFTERLASTROW to ONSTARTROW and ONENDROW to avoid confusion." 
}
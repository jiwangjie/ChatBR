{
  "id": "131649",
  "title": "Bug 131649 - Designer generates wrong column reference expression for inner table",
  "description": "The bug in the designer involves generating an incorrect column reference expression for inner tables. This design employs a two-level table to list offices and their employees, allowing for expressions like: row[\"FIRSTNAME\"] + \" \" + row[\"LASTNAME\"] + \" / \" + row[\"OFFICECODE\"]. However, this report fails to run as expected. When the user double-clicks on \"COUNTRY,\" the correct behavior should be to insert rows[0][\"COUNTRY\"] into the expression. The first index (an integer) in the \"rows\" array corresponds to the 0-based index of the nested table containing the dataset (0 for the outermost table, 1 for the first-level inner table, and so on).",
  "OB": "The current behavior works as expected. However, if the designer attempts to append a country name suffix to each employee name by adding the expression row[\"COUNTRY\"], the problem arises. The issue is that row[\"OFFICECODE\"] is not a valid reference in the inner table. To enable the inner table to access columns from the outer table, the expression needs to utilize the \"rows\" object.",
  "EB": "The expected behavior should be that the report designer determines the correct index number by considering the nesting levels of all tables.",
  "SR": "To reproduce the issue:\n1. Create a report with a two-level table, listing offices and their employees.\n2. In the designer, construct an expression using column references like row[\"FIRSTNAME\"], row[\"LASTNAME\"], and row[\"OFFICECODE\"].\n3. Attempt to add an expression using row[\"COUNTRY\"].\n4. Observe that the expression fails to run as expected, indicating the bug in generating column references for inner tables."
}
{"bug_id": "40019", "title": "Bug 40019BIDI: StyledText has problem with drawing of selection in both ltr and rtl orientation of this widget in the bidi locale.", "description": "This problem was reported in the bug 30434. Vertical line, which has width ofsome pixels, sometimes remains with it's current background between twoselected characters. We suggested to solve it by widening of area, which shouldbe redraw, by some pixels. Lynne Kues wrote in the comment 43 to bug 30434,that \"...After much discussion, we've decided StyledText needs to work aroundBug 37427/Bug 4776. We will put back the magic + 1 in StyledText.redraw(int,int,int,int, boolean)\". In the code of StyledText it seems as follow:if (isBidi()) {// workaround for bug 4776super.redraw(x, y, width + 1, height, all);} else {super.redraw(x, y, width, height, all);}Unfortunately, this change can't solve the problem: 1) because area for drawingshould be expanded from both sides; 2) because 1 pixel isn't always enough, andfor large fonts this difference can achieve 2,3 and even 4 pixels.Therefore we suggest to perform following changes in the methodStyledTexBIDI.redrawRange(): redraw area, which is started from characterbefore current DirectionRun and ended by character, which is visually followthis DirectionRun."}
{"bug_id": "36192", "title": "Bug 36192Native crash when closing tree nodes", "description": "2.1I frequently crash when closing tree nodes in the top left pane of the Sync view.I cannot reproduce it, but the typical scenario is: Synchronize with HEAD on SWT project reviewing all incoming changes by opening the nodes in the resource paneeither manually or with a Expand All after reviewing the changes I close some of expanded TreeNodesThere is no entry in .log, however the console shows this:Date/Time:20030408 10:56:12 +0200OS Version: 10.2.4 (Build 6I32)Host:lipari.zrh.oti.comCommand:javaPID:1916Exception:EXCBADACCESS (0x0001)Codes:KERNPROTECTIONFAILURE (0x0002) at 0x00000004Thread 0: 00x90073c48 in machmsgtrap 10x90005f90 in machmsg 20x03475000 in 0x3475000 30x90180fe4 in CFRunLoopRunSpecific 40x000048d4 in 0x48d4 50x0000237c in 0x237c 60x000021fc in 0x21fcThread 1 Crashed: 00x96a25b24 in TContainer::ListItemRef::ItemSelected() const 10x96a0d66c in TListData::RowIsSelected(unsigned long) const 20x96bf68fc in ITableData::NextSelection(Cell32&, bool, bool) const 30x96a2a7f4 in TTableView::GetData(unsigned long, unsigned long, long, char,long) const 40x96a3d480 in TListView::GetData(unsigned long, unsigned long, long, char, long) const 50x96a18744 in TBrowser::GetData(unsigned long, unsigned long, long, char, long) const 60x969d3cb0 in HLTBCDEF::EntryPoint(short, OpaqueControlRef, short, long) 70x969fd138 in DataBrowserCDEF(short, OpaqueControlRef, short, long) 80x969af3e8 in DispatchMessage(HIView, short, long, unsigned char, unsignedchar) 90x969ddc9c in GetData(HIView, OpaqueEventRef) 100x969b6760 in ClassicCDEFAdapter::EventHandler(OpaqueEventHandlerCallRef, OpaqueEventRef, void) 110x969a2244 in DispatchEventToHandlers 120x969a25ac in SendEventToEventTargetInternal 130x969a59c0 in SendEventToEventTargetWithOptions 140x969bbde4 in SendControlDefGetData(HIView, unsigned long, short, void, long,long) 150x969ead6c in GetControlData 160x96af0010 in GetDataBrowserSelectionAnchor 170x04987fcc inJavaorgeclipseswtinternalcarbonOSGetDataBrowserSelectionAnchor 180x0134a580 in 0x134a580 190x01781b18 in 0x1781b18 200x01343ef0 in 0x1343ef0 210x0134116c in 0x134116c 220x966a8208 in JVMRead 230x966cde94 in JVMFillInStackTrace 240x966b8c80 in JVMGetCPMethodClassNameUTF 250x9676d788 in JVMEnableCompiler 260x049ce274 in callback 270x049a89ec in fn73 280x96c929a4 inCacheSelectionNotifications::ItemNotificationBottleneck(OpaqueControlRef, unsignedlong, unsigned long, void) 290x96a0fa20 in TBrowser::NotifyItemEvent(unsigned long, unsigned long,TItemData) const 300x96a44f9c in TContainer::ListItemRef::ItemSelected(BinaryState, IClientProxyconst&, bool) 310x96a20534 in TContainer::RemoveItems(IClientProxy const&, TContainerTree,TContainer::ItemRefArray) 320x96ab3c04 in TContainerTree::CloseContainerTree(unsigned long, IClientProxyconst&, TContainer::ItemRefArray) 330x96baa394 in TContainerTree::CloseChildContainer(TContainer::ListItemRef&,IClientProxy const&, TContainer::ItemRefArray) 340x96a32a58 in TContainer::ListItemRef::PreflightRemoval(IClientProxy const&,TContainerTree, TContainer::ItemRefArray) 350x96a20548 in TContainer::RemoveItems(IClientProxy const&, TContainerTree,TContainer::ItemRefArray) 360x96ab3c04 in TContainerTree::CloseContainerTree(unsigned long, IClientProxyconst&, TContainer::ItemRefArray) 370x96baa394 in TContainerTree::CloseChildContainer(TContainer::ListItemRef&,IClientProxy const&, TContainer::ItemRefArray) 380x96a32a58 in TContainer::ListItemRef::PreflightRemoval(IClientProxy const&,TContainerTree, TContainer::ItemRefArray) 390x96a20548 in TContainer::RemoveItems(IClientProxy const&, TContainerTree,TContainer::ItemRefArray) 400x96ab3c04 in TContainerTree::CloseContainerTree(unsigned long, IClientProxyconst&, TContainer::ItemRefArray) 410x96baa394 in TContainerTree::CloseChildContainer(TContainer::ListItemRef&,IClientProxy const&, TContainer::ItemRefArray) 420x96a32a58 in TContainer::ListItemRef::PreflightRemoval(IClientProxy const&,TContainerTree, TContainer::ItemRefArray) 430x96a20548 in TContainer::RemoveItems(IClientProxy const&, TContainerTree,TContainer::ItemRefArray) 440x96ab3c04 in TContainerTree::CloseContainerTree(unsigned long, IClientProxyconst&, TContainer::ItemRefArray) 450x96baa394 in TContainerTree::CloseChildContainer(TContainer::ListItemRef&,IClientProxy const&, TContainer::ItemRefArray) 460x96a32a58 in TContainer::ListItemRef::PreflightRemoval(IClientProxy const&,TContainerTree, TContainer::ItemRefArray) 470x96a20548 in TContainer::RemoveItems(IClientProxy const&, TContainerTree,TContainer::ItemRefArray) 480x96ab3c04 in TContainerTree::CloseContainerTree(unsigned long, IClientProxyconst&, TContainer::ItemRefArray) 490x96baa394 in TContainerTree::CloseChildContainer(TContainer::ListItemRef&,IClientProxy const&, TContainer::ItemRefArray) 500x96a32a58 in TContainer::ListItemRef::PreflightRemoval(IClientProxy const&,TContainerTree, TContainer::ItemRefArray) 510x96a20548 in TContainer::RemoveItems(IClientProxy const&, TContainerTree,TContainer::ItemRefArray) 520x96ab3c04 in TContainerTree::CloseContainerTree(unsigned long, IClientProxyconst&, TContainer::ItemRefArray) 530x96baa394 in TContainerTree::CloseChildContainer(TContainer::ListItemRef&,IClientProxy const&, TContainer::ItemRefArray) 540x96a32a58 in TContainer::ListItemRef::PreflightRemoval(IClientProxy const&,TContainerTree, TContainer::ItemRefArray) 550x96a20548 in TContainer::RemoveItems(IClientProxy const&, TContainerTree,TContainer::ItemRefArray) 560x96ab3c04 in TContainerTree::CloseContainerTree(unsigned long, IClientProxyconst&, TContainer::ItemRefArray) 570x96baa394 in TContainerTree::CloseChildContainer(TContainer::ListItemRef&,IClientProxy const&, TContainer::ItemRefArray) 580x96bf0530 in TListData::CloseContainer(TContainer::ListItemRef&, bool) 590x96bf010c in TListData::DiscloseRow(unsigned long, BinaryState, bool) 600x96aba77c in TListView::TrackCell(TTableCell const&, Point, long, unsignedshort) 610x96a78438 in TTableView::TrackItem(Point, long, unsigned short) 620x96aa40a0 in TBrowserView::TrackMouse(short&, Point, long, unsigned short) 630x96aba490 in TListView::TrackMouse(short&, Point, long, unsigned short) 640x96a77c8c in TBrowserView::Track(Point, long, unsigned short) 650x96aa1224 in TBrowser::Track(Point, long, unsigned short) 660x969d3d8c in HLTBCDEF::EntryPoint(short, OpaqueControlRef, short, long) 670x969fd138 in DataBrowserCDEF(short, OpaqueControlRef, short, long) 680x969af3e8 in DispatchMessage(HIView, short, long, unsigned char, unsignedchar) 690x96a72880 in Track(HIView, OpaqueEventRef) 700x969b66e0 in ClassicCDEFAdapter::EventHandler(OpaqueEventHandlerCallRef, OpaqueEventRef, void) 710x969a2244 in DispatchEventToHandlers 720x969a25ac in SendEventToEventTargetInternal 730x969a59c0 in SendEventToEventTargetWithOptions 740x96a29144 in SendControlDefTrack(HIView, CGPoint const&, unsigned long,void ()(OpaqueControlRef, short), short) 750x96bdc4b4 in HIView::ClickInternal(CGPoint const&, unsigned long, void ()(OpaqueControlRef, short), bool) 760x96a70fec in HandleControlClick 770x96a608f8 in DoControlClick 780x96aa0ffc in HandleControlEvent 790x969ed820 in StandardWindowEventHandler 800x969a2244 in DispatchEventToHandlers 810x969a25ac in SendEventToEventTargetInternal 820x969b4aac in SendEventToEventTarget 830x96a6079c in HIView::Click(OpaqueEventRef) 840x96aa0fb4 in HIViewClick 850x96aa0f60 in HandleClickAsHIView 860x96a777fc in HandleClickInContent 870x969dc830 in HandleWindowEvent 880x969ed814 in StandardWindowEventHandler 890x969a2244 in DispatchEventToHandlers 900x969a25ac in SendEventToEventTargetInternal 910x969b4aac in SendEventToEventTarget 920x96a77680 in SendEventFromMouseDown 930x96a51198 in HandleWindowClick 940x96b008d0 in HandleMouseEvent 950x969ed808 in StandardWindowEventHandler 960x969a2244 in DispatchEventToHandlers 970x969a25ac in SendEventToEventTargetInternal 980x96a0d8cc in CallNextEventHandler 990x04982340 inJavaorgeclipseswtinternalcarbonOSCallNextEventHandler 100 0x0134a580 in 0x134a580 101 0x01343ef0 in 0x1343ef0 102 0x0182b448 in 0x182b448 103 0x01662584 in 0x1662584 104 0x0134116c in 0x134116c 105 0x966a8208 in JVMRead 106 0x966cde94 in JVMFillInStackTrace 107 0x966b8c80 in JVMGetCPMethodClassNameUTF 108 0x9676d788 in JVMEnableCompiler 109 0x049ce274 in callback 110 0x049a8bcc in fn133 111 0x969a2244 in DispatchEventToHandlers 112 0x969a25ac in SendEventToEventTargetInternal 113 0x969b4aac in SendEventToEventTarget 114 0x969bfe04 in HandleMouseEventForWindow(OpaqueWindowPtr,OpaqueEventRef, unsigned short) 115 0x969b8f40 in HandleMouseEvent(OpaqueEventRef) 116 0x969b1e94 in ToolboxEventDispatcherHandler(OpaqueEventHandlerCallRef,OpaqueEventRef, void) 117 0x969a22fc in DispatchEventToHandlers 118 0x969a25ac in SendEventToEventTargetInternal 119 0x969b4aac in SendEventToEventTarget 120 0x0498f998 inJavaorgeclipseswtinternalcarbonOSSendEventToEventTarget 121 0x016796e0 in 0x16796e0 122 0x01661798 in 0x1661798 123 0x01343e30 in 0x1343e30 124 0x01343fb0 in 0x1343fb0 125 0x01344220 in 0x1344220 126 0x01343ec0 in 0x1343ec0 127 0x0134116c in 0x134116c 128 0x966a8208 in JVMRead 129 0x966cde94 in JVMFillInStackTrace 130 0x967338bc in JVMGetClassCPTypes 131 0x9673cce8 in JVMWrite 132 0x96744f00 in JVMInvokeMethod 133 0x0134a580 in 0x134a580 134 0x01343ec0 in 0x1343ec0 135 0x01343ec0 in 0x1343ec0 136 0x01344220 in 0x1344220 137 0x01343ec0 in 0x1343ec0 138 0x01343ec0 in 0x1343ec0 139 0x01343ec0 in 0x1343ec0 140 0x0134116c in 0x134116c 141 0x966a8208 in JVMRead 142 0x966cde94 in JVMFillInStackTrace 143 0x966c1f94 in JVMGetCPFieldClassNameUTF 144 0x966c36f0 in JVMGetMethodIxLocalsCount 145 0x00002c9c in 0x2c9c 146 0x000047b8 in 0x47b8 147 0x90020d48 in pthreadbodyThread 2: 00x90073c48 in machmsgtrap 10x90005f90 in machmsg 20x9676b04c in JNICreateJavaVMImpl 30x9676b1d0 in JNICreateJavaVMImpl 40x967641fc in JVMIsSupportedJNIVersion 50x90020d48 in pthreadbodyThread 3: 00x90073c48 in machmsgtrap 10x90005f90 in machmsg 20x96697dd0 in cmpdi2 30x966d072c in JVMFillInStackTrace 40x966e173c in JVMRawMonitorEnter 50x9685d46c in JVMUnloadLibrary 60x967641fc in JVMIsSupportedJNIVersion 70x90020d48 in pthreadbodyThread 4: 00x90073c48 in machmsgtrap 10x90005f90 in machmsg 20x96697d34 in cmpdi2 30x966d9264 in JVMGetCPFieldSignatureUTF 40x966fc7ac in JVMGetMethodIxModifiers 50x966f9a48 in JVMMonitorWait 60x0134a580 in 0x134a580 70x01343fb0 in 0x1343fb0 80x01343fb0 in 0x1343fb0 90x0134116c in 0x134116c 100x966a8208 in JVMRead 110x96750af4 in JVMStartThread 120x96755bd0 in JVMGC 130x96755b64 in JVMGC 140x96744174 in JVMGetClassInterfaces 150x967641fc in JVMIsSupportedJNIVersion 160x90020d48 in pthreadbodyThread 5: 00x90073c48 in machmsgtrap 10x90005f90 in machmsg 20x96697d34 in cmpdi2 30x966d9264 in JVMGetCPFieldSignatureUTF 40x966fc7ac in JVMGetMethodIxModifiers 50x966f9a48 in JVMMonitorWait 60x016b61a4 in 0x16b61a4 70x017061cc in 0x17061cc 80x01705f28 in 0x1705f28 90x01343ec0 in 0x1343ec0 100x0134116c in 0x134116c 110x966a8208 in JVMRead 120x96750af4 in JVMStartThread 130x96755bd0 in JVMGC 140x96755b64 in JVMGC 150x96744174 in JVMGetClassInterfaces 160x967641fc in JVMIsSupportedJNIVersion 170x90020d48 in pthreadbodyThread 6: 00x90073c48 in machmsgtrap 10x90005f90 in machmsg 20x96697dd0 in cmpdi2 30x966a29c4 in JVMCurrentTimeMillis 40x966a2a60 in JVMCurrentTimeMillis 50x967641fc in JVMIsSupportedJNIVersion 60x90020d48 in pthreadbodyThread 7: 00x90034848 in semaphorewaittrap 10x96764bfc in JVMIsSupportedJNIVersion 20x967649e4 in JVMIsSupportedJNIVersion 30x96744174 in JVMGetClassInterfaces 40x967641fc in JVMIsSupportedJNIVersion 50x90020d48 in pthreadbodyThread 8: 00x90073c48 in machmsgtrap 10x90005f90 in machmsg 20x96697d34 in cmpdi2 30x966d078c in JVMFillInStackTrace 40x9670b5bc in JVMIsConstructorIx 50x966ec7f0 in JVMRawMonitorEnter 60x96744174 in JVMGetClassInterfaces 70x967641fc in JVMIsSupportedJNIVersion 80x90020d48 in pthreadbodyThread 9: 00x90073c48 in machmsgtrap 10x90005f90 in machmsg 20x96697dd0 in cmpdi2 30x966a28d4 in JVMCurrentTimeMillis 40x96729c10 in JVMSleep 50x0134a580 in 0x134a580 60x01343fb0 in 0x1343fb0 70x01344310 in 0x1344310 80x0134116c in 0x134116c 90x966a8208 in JVMRead 100x96750af4 in JVMStartThread 110x96755bd0 in JVMGC 120x96755b64 in JVMGC 130x96744174 in JVMGetClassInterfaces 140x967641fc in JVMIsSupportedJNIVersion 150x90020d48 in pthreadbodyThread 10: 00x90073c48 in machmsgtrap 10x90005f90 in machmsg 20x96697d34 in cmpdi2 30x966d9264 in JVMGetCPFieldSignatureUTF 40x966fc7ac in JVMGetMethodIxModifiers 50x966f9a48 in JVMMonitorWait 60x0134a580 in 0x134a580 70x01343fb0 in 0x1343fb0 80x01343fb0 in 0x1343fb0 90x01343ec0 in 0x1343ec0 100x01344310 in 0x1344310 110x0134116c in 0x134116c 120x966a8208 in JVMRead 130x96750af4 in JVMStartThread 140x96755bd0 in JVMGC 150x96755b64 in JVMGC 160x96744174 in JVMGetClassInterfaces 170x967641fc in JVMIsSupportedJNIVersion 180x90020d48 in pthreadbodyThread 11: 00x90073c48 in machmsgtrap 10x90005f90 in machmsg 20x96697dd0 in cmpdi2 30x966d9264 in JVMGetCPFieldSignatureUTF 40x966fc7ac in JVMGetMethodIxModifiers 50x966f9a48 in JVMMonitorWait 60x0134a580 in 0x134a580 70x01343fb0 in 0x1343fb0 80x01344310 in 0x1344310 90x0134116c in 0x134116c 100x966a8208 in JVMRead 110x96750af4 in JVMStartThread 120x96755bd0 in JVMGC 130x96755b64 in JVMGC 140x96744174 in JVMGetClassInterfaces 150x967641fc in JVMIsSupportedJNIVersion 160x90020d48 in pthreadbodyPPC Thread State:srr0: 0x96a25b24 srr1: 0x0200f030vrsave: 0x00000000xer: 0x20000000lr: 0x96a25b20ctr: 0x96a546ecmq: 0x00000000r0: 0x00020000r1: 0xf007b4e0r2: 0x00000000r3: 0x00000000r4: 0x00000000r5: 0x00000000r6: 0x00000001r7: 0x00000000r8: 0x00000000r9: 0x080eedf8r10: 0x00000000r11: 0xf007b580r12: 0x96a546ecr13: 0x00088f00r14: 0x06176110r15: 0x04987f14r16: 0xf007be50r17: 0x6b2c04c8r18: 0x00000000r19: 0x00000000r20: 0x00000003r21: 0x00000000r22: 0x00000000r23: 0x0755f3b0r24: 0xf007bc50r25: 0xf007ba60r26: 0x00000000r27: 0x00000001r28: 0xf007b640r29: 0x00000000r30: 0x00000000r31: 0x96a2a588"}
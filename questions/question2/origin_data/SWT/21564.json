{"bug_id": "21564", "title": "Bug 21564GTK: Text of Button(with style bit SWT.CHECK) does not show up correctly", "description": "In the AWT test we have a Panel contained in a Frame. This Panel has a number ofChecckboxes . When the Frame appears, the text of all the Checkboxes do not showup initially . In this test only the text of the last Checkbox shows up (we haveseen in a different test that a random selection of checkboxes displayed theirlabels). Once the Checkbox is selectedthe text of that Checkbox appearscorrectly. We could not recreate the problem in SWT, so provided below are both AWT andSWT test cases.If you would like to look into this matter , instructions on how to get our AWTare provided in this bug report :http://bugs.eclipse.org/bugs/showbug.cgi?id=21384Here is the AWT test case:AWT test starts here import java.awt.Checkbox;import java.awt.CheckboxGroup;import java.awt.Color;import java.awt.Frame;import java.awt.ItemSelectable;import java.awt.Panel;import java.awt.event.ItemEvent;import java.awt.event.ItemListener;public class TestAwtCheckbox{Checkbox[] cb; String[] cbnames ={\"Action\", \"Adjustment\", \"Component\", \"Container\", \"Focus\", \"\",\"Item\", \"Key\", \"MouseMotion\", \"Mouse\", \"Text\", \"Window\" };public void create(){Frame f = new Frame(\"Checkbox test\");Panelpanel = new Panel(null); cb = new Checkbox[12];int w = 77;for (int i = 0; i < 2; i++) {for (int j = 0; j < 6; j++) {cb[i6+j] = new Checkbox(cbnames[i6+j], false);cb[i6+j].setBounds((wj)+1, 20i+1, w, 20);panel.add(cb[i6+j]);}}panel.setBackground(Color.gray);panel.setForeground(Color.yellow); panel.setBounds(0, 0, 464, 60);f.add(panel);f.setSize(500,100);f.setVisible(true);}public static void main(String[] args) {TestAwtCheckbox tac = new TestAwtCheckbox();tac.create();}}AWT test ends here SWT test starts here import org.eclipse.swt.layout.FillLayout;import org.eclipse.swt.widgets.;import org.eclipse.swt.SWT;public class TestCheckbox {finalDisplay disp = Display.getDefault();public void methodRun(){final Shell shell = new Shell(disp);shell.setLayout(new FillLayout());final Canvas canvas =new Canvas(shell, SWT.CLIPCHILDREN | SWT.CLIPSIBLINGS);Button[] butarr = new Button[12];String[] evname = {\"Action\", \"Adjustment\", \"Component\", \"Container\", \"Focus\", \"\",\"Item\", \"Key\", \"MouseMotion\", \"Mouse\", \"Text\", \"Window\" };int w = 77;for (int i = 0; i < 2; i++) {for (int j = 0; j < 6; j++) {butarr[i6+j] = new Button(canvas,SWT.CHECK|SWT.CLIPCHILDREN|SWT.CLIPSIBLINGS);butarr[i6+j].setText(evname[i6+j]);butarr[i6+j].setBackground(disp.getSystemColor(SWT.COLORGRAY));butarr[i6+j].setForeground(disp.getSystemColor(SWT.COLORYELLOW));butarr[i6+j].setBounds((wj)+1, 20i+1, w, 20);}}shell.setSize(500, 75);shell.setLocation(50, 50);shell.open();while (!shell.isDisposed()) {if (!disp.readAndDispatch()) {disp.sleep();}}}public static void main(String[] args) {TestCheckbox test = new TestCheckbox();test.methodRun();}}SWT test ends here "}
{"bug_id": "40884", "title": "Bug 40884Eclipse crashes with Sun jdk 1.4.2", "description": "When we switch from jdk 1.4.1 to 1.4.2, Eclipse crashes at startup.To make it at least start, I tried with a blank workspace but Eclipses keepscrashing as soon as I try to open a perspective, a project or the configurationdetails, anything heavier than opening a menu.Eclipse 2.1.1 (Build id: 200306271545), Win2000 SP3, Sun JDK 1.4.2b28.It happens on all the PCs (3) where we tried it. The regular .log containsnothing relevant.Here is the crash log:An unexpected exception has been detected in native code outside the VM.Unexpected Signal : EXCEPTIONACCESSVIOLATION (0xc0000005) occurred atPC=0x78463C88Function=RtlInitUnicodeString+0x1BLibrary=C:\\WINNT\\System32\\ntdll.dllCurrent Java thread:at org.eclipse.swt.internal.win32.OS.ExpandEnvironmentStringsW(Native Method)at org.eclipse.swt.internal.win32.OS.ExpandEnvironmentStrings(OS.java:1353)at org.eclipse.swt.program.Program.getKeyValue(Program.java:113)at org.eclipse.swt.program.Program.getProgram(Program.java:135)at org.eclipse.swt.program.Program.getPrograms(Program.java:165)atorg.eclipse.ui.internal.registry.EditorDescriptor.findProgram(EditorDescriptor.java:76)atorg.eclipse.ui.internal.registry.EditorDescriptor.loadValues(EditorDescriptor.java:212)atorg.eclipse.ui.internal.registry.EditorRegistry.loadAssociations(EditorRegistry.java:521)atorg.eclipse.ui.internal.registry.EditorRegistry.initializeFromStorage(EditorRegistry.java:453)at org.eclipse.ui.internal.registry.EditorRegistry.<init(EditorRegistry.java:64)atorg.eclipse.ui.internal.WorkbenchPlugin.getEditorRegistry(WorkbenchPlugin.java:234)at org.eclipse.ui.internal.EditorManager$7.run(EditorManager.java:908)atorg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1006)at org.eclipse.core.runtime.Platform.run(Platform.java:413)at org.eclipse.ui.internal.EditorManager.busyRestoreEditor(EditorManager.java:864)at org.eclipse.ui.internal.EditorManager$6.run(EditorManager.java:857)at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)at org.eclipse.ui.internal.EditorManager.restoreEditor(EditorManager.java:853)at org.eclipse.ui.internal.EditorManager.restoreState(EditorManager.java:756)at org.eclipse.ui.internal.WorkbenchPage.restoreState(WorkbenchPage.java:2263)at org.eclipse.ui.internal.WorkbenchWindow.restoreState(WorkbenchWindow.java:1327)at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1263)at org.eclipse.ui.internal.Workbench.access$10(Workbench.java:1223)at org.eclipse.ui.internal.Workbench$12.run(Workbench.java:1141)atorg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1006)at org.eclipse.core.runtime.Platform.run(Platform.java:413)atorg.eclipse.ui.internal.Workbench.openPreviousWorkbenchState(Workbench.java:1093)at org.eclipse.ui.internal.Workbench.init(Workbench.java:870)at org.eclipse.ui.internal.Workbench.run(Workbench.java:1373)atorg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)at java.lang.reflect.Method.invoke(Unknown Source)at org.eclipse.core.launcher.Main.basicRun(Main.java:291)at org.eclipse.core.launcher.Main.run(Main.java:747)at org.eclipse.core.launcher.Main.main(Main.java:583)Dynamic libraries:0x00400000  0x00407000C:\\WINNT\\system32\\javaw.exe0x78460000  0x784E1000C:\\WINNT\\System32\\ntdll.dll0x77DA0000  0x77DFD000C:\\WINNT\\system32\\ADVAPI32.dll0x77E70000  0x77F31000C:\\WINNT\\system32\\KERNEL32.DLL0x770C0000  0x77131000C:\\WINNT\\system32\\RPCRT4.DLL0x77E00000  0x77E65000C:\\WINNT\\system32\\USER32.dll0x77F40000  0x77F7C000C:\\WINNT\\system32\\GDI32.DLL0x78000000  0x78046000C:\\WINNT\\system32\\MSVCRT.dll0x08000000  0x08136000C:\\Program Files\\Java\\j2re1.4.2\\bin\\client\\jvm.dll0x77540000  0x77571000C:\\WINNT\\system32\\WINMM.dll0x10000000  0x10007000C:\\Program Files\\Java\\j2re1.4.2\\bin\\hpi.dll0x007E0000  0x007EE000C:\\Program Files\\Java\\j2re1.4.2\\bin\\verify.dll0x007F0000  0x00808000C:\\Program Files\\Java\\j2re1.4.2\\bin\\java.dll0x00810000  0x0081D000C:\\Program Files\\Java\\j2re1.4.2\\bin\\zip.dll0x24950000  0x24958000C:\\dev\\eclipse\\plugins\\org.eclipse.core.resources.win322.1.0\\os\\win32\\x86\\core210a.dll0x24A70000  0x24AB7000C:\\dev\\eclipse\\plugins\\org.eclipse.swt.win322.1.1\\os\\win32\\x86\\swtwin322135.dll0x77A40000  0x77B35000C:\\WINNT\\system32\\ole32.dll0x71710000  0x71794000C:\\WINNT\\system32\\COMCTL32.dll0x76B00000  0x76B3D000C:\\WINNT\\system32\\comdlg32.dll0x70BD0000  0x70C35000C:\\WINNT\\system32\\SHLWAPI.DLL0x77580000  0x777CD000C:\\WINNT\\system32\\SHELL32.DLL0x779A0000  0x77A3B000C:\\WINNT\\system32\\OLEAUT32.dll0x75E00000  0x75E1A000C:\\WINNT\\system32\\IMM32.dll0x66000000  0x6607D000D:\\Program Files\\desktop\\WindowBlinds\\WBlind.dll0x6B0E0000  0x6B0E5000C:\\WINNT\\system32\\msimg32.dll0x62000000  0x62017000D:\\Program Files\\desktop\\WindowBlinds\\wbhelp.dll0x69440000  0x6945F000C:\\WINNT\\system32\\oleacc.dll0x77910000  0x77933000C:\\WINNT\\system32\\imagehlp.dll0x72970000  0x7299D000C:\\WINNT\\system32\\DBGHELP.dll0x68EA0000  0x68EAB000C:\\WINNT\\system32\\PSAPI.DLLHeap at VM Abort:Heap def new generationtotal 4544K, used 1508K [0x10010000, 0x104f0000, 0x113c0000)eden space 4096K,33% used [0x10010000, 0x10167168, 0x10410000)from space 448K,30% used [0x10480000, 0x104a1ff0, 0x104f0000)tospace 448K,0% used [0x10410000, 0x10410000, 0x10480000) tenured generationtotal 60544K, used 4535K [0x113c0000, 0x14ee0000, 0x20010000)the space 60544K,7% used [0x113c0000, 0x1182ddf8, 0x1182de00, 0x14ee0000) compacting perm gentotal 7424K, used 7203K [0x20010000, 0x20750000, 0x24010000)the space 7424K,97% used [0x20010000, 0x20718fd0, 0x20719000, 0x20750000)Local Time = Tue Jul 29 10:41:24 2003Elapsed Time = 6 The exception above was detected in native code outside the VM Java VM: Java HotSpot(TM) Client VM (1.4.2b28 mixed mode)"}
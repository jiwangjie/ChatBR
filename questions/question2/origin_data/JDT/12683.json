{"bug_id": "12683", "title": "Bug 12683Invalid Thread Access self hosting using Java Search", "description": "The Java Search causes an Invalid Thread Access when you are self hosting. Thiswill also occur if you use search in a JUnit test or if I run Eclipse using thefollowing options:eclipse ws win32 debug dev binThe problem is a call to Display.getCurrent() in the initialization code forthe JavaEditorPreferencePage which is called the first time you do a search.STEPS1) Self host Eclipse2) Select Java Search3) Enter the name of a class4) Hit Search Invalid Thread AccessLog: Wed Apr 03 08:57:31 EST 20024 org.eclipse.jdt.ui 1 Internal Errorjava.lang.reflect.InvocationTargetException: org.eclipse.swt.SWTException:Invalid thread accessat org.eclipse.swt.SWT.error(SWT.java:1887)at org.eclipse.swt.SWT.error(SWT.java:1819)at org.eclipse.swt.widgets.Display.checkDevice(Display.java(CompiledCode))at org.eclipse.swt.widgets.Display.checkDevice(Display.java(CompiledCode))at org.eclipse.swt.widgets.Display.getSystemColor(Display.java:965)atorg.eclipse.jdt.internal.ui.preferences.JavaEditorPreferencePage.initDefaults(JavaEditorPreferencePage.java:209)at org.eclipse.jdt.internal.ui.JavaPlugin.initializeDefaultPreferences(JavaPlugin.java:320)at org.eclipse.ui.plugin.AbstractUIPlugin.getPreferenceStore(AbstractUIPlugin.java(Compiled Code))atorg.eclipse.jdt.internal.ui.preferences.AppearancePreferencePage.showMethodReturnType(AppearancePreferencePage.java:40)atorg.eclipse.jdt.internal.ui.viewsupport.StandardJavaUILabelProvider.initMasks(StandardJavaUILabelProvider.java:43)atorg.eclipse.jdt.internal.ui.viewsupport.StandardJavaUILabelProvider.<init(StandardJavaUILabelProvider.java:29)atorg.eclipse.jdt.internal.ui.search.JavaSearchResultLabelProvider.<init(JavaSearchResultLabelProvider.java:39)atorg.eclipse.jdt.internal.ui.search.JavaSearchResultCollector.aboutToStart(JavaSearchResultCollector.java:104)at org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:376)at org.eclipse.jdt.internal.ui.search.JavaSearchOperation.execute(JavaSearchOperation.java:84)at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:64)at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1343)at org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:78)at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:98)"}
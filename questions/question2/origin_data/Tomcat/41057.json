{"bug_id": "41057", "title": "Bug 41057Tomcat leaks memory on every request", "description": "POST parameter values stay referenced by a static field inorg.apache.tomcat.util.buf.StringCache  thus the GC can never release the memory.Steps to Reproduce:1) install and start tomcat 5.5(http://apache.zoneh.org/tomcat/tomcat5/v5.5.20/bin/apachetomcat5.5.20.zip)2) see the example webapp \"Request Parameters Example\" included in the install(http://localhost:8080/servletsexamples/servlet/RequestParamExample)3) run script \"send.sh\" to create heavy load!/bin/bashexport LEAKCOMMAND='curl silenthttp://localhost:8080/servletsexamples/servlet/RequestParamExample outputresponse.htm data @send.txt'create initial POST parameter with value about 10kBecho \"firstname=\"  send.txtfor((i=0;$i<=10000;i=$(($i+1))));doecho n \"x\"  send.txtdonesend the requestfor((i=0;$i<=1000;i=$(($i+1))));doecho $i modify the param value to send (append i)echo n $i  send.txt$LEAKCOMMANDdone4) running the script causes heap usage to increase for some 40MB"}
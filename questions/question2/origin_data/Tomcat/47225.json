{"bug_id": "47225", "title": "Bug 47225Wrong argument in redirectPath.setChars in Mapper.internalMapWrapper()", "description": "Found in current trunk and tc6.0.x, and tc5.5.x:http://svn.apache.org/viewvc/tomcat/trunk/java/org/apache/tomcat/util/http/mapper/Mapper.java?annotate=734728&pathrev=770809730 :if(mappingData.wrapper == null && noServletPath) {731 :// The path is empty, redirect to \"/\"732 :mappingData.redirectPath.setChars733 :(path.getBuffer(), pathOffset, pathEnd);734 :path.setEnd(pathEnd  1);735 :return;736 :}On line 733 the pathEnd argument is wrong:it should be length, not an index.It should be mappingData.redirectPath.setChars(path.getBuffer(), pathOffset, pathEndpathOffset);Do not know, why there are no complaints. May be pathOffset is always zero?"}
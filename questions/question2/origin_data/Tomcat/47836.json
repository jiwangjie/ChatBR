{"bug_id": "47836", "title": "Bug 47836TldConfig keeps an internal list of ApplicationListeners", "description": "Created attachment 24258 [details]When the Context is stopped, clears the listeners listWhen a WebApp is refreshed, the following warning is displayed:\"StandardContext.addApplicationListener : The listener\"com.sun.faces.config.ConfigureListener\" is already configured for thiscontext. The duplicate definition has been ignored.\"This is because the TldConfig instance does not react to a STOP event of theStandardContext. It should clear the list's content when the WebApp is stopped.We've encountered this bug with tomcat 6.0.20.I've checked the Tomcat7 TldConfig code to see if the issue may still be there,but I'm not sure: there is some code dealing with already registered taglib URIthat may prevent the warning.So the provided patch is against tomcat6.0.x branch (but should be easy to portto trunk if there is some interest).BTW, I've checked the TldLocationsCache source code, but it is not implementingthe LifecycleListener interface, so that patch cannot be applied on that file..."}
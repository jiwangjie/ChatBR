{"bug_id": "30949", "title": "Bug 30949After Failed Include, Request and Response not Unwrapped", "description": "In org.apache.catalina.core.ApplicationDispatcher.doInclude(ServletRequestrequest, ServletResponse response), after invoke() is called to perform theinclude, the request and response objects are normally unwrapped.However, ifa ServletException or IOException is thrown, the unwrapping does not take place.This leads to problems in environments in which cross context includes arebeing performed.For example,1.Web App A performs an include to a Servlet in Web App B2.The Servlet in Web App B throws a ServletException3.Web App A catches the ServletException and attempts to forward to an errorjsp.Step 3 above will fail due to the fact that the request has not beenunwrapped.The active request will contain the ServletContext of web app B andthe jsp file will not be found."}
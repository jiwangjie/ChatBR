{"bug_id": "44223", "title": "Bug 44223Tomcat ignores the \"javax.net.ssl.trustStoreType\" system property", "description": "Set up a SSL Connector with a keystore in JKS format:<Connector ... SSLEnabled=\"true\"keystoreFile=\"tomcat.keystore\" keystoreType=\"JKS\"Let's say you need a custom truststore (e.g. for authenticating selfsignedclient certificates), and that this truststore is also needed by some of yourwebapps, not only Tomcat. The natural thing to do then is to configure thistruststore globally for the whole JVM, not in server.xml.Let's also assume this truststore is in a different format (e.g. PKCS12). Sobefore starting Tomcat, you do this:export JAVAOPTS=\"Djavax.net.ssl.trustStore=trusted.keystore Djavax.net.ssl.trustStoreType=PKCS12\"Well, it doesn't work. If you look at tomcat/logs/catalina.out, you will see akeystorerelated exception. Upon further debugging, you will discover theproblem is that Tomcat is trying to open the truststore as if it were in JKSformat, even though it is clearly specified as type PKCS12 in JAVAOPTS above."}
{"bug_id": "46606", "title": "Bug 46606WebdavServlet", "description": "In the Webdav standard, there is a header option named \"depth\".This header must be given when running a propfind webdav request.The value may be greater 0 or the constant \"infinity\", i.e. thewhole file tree is requested.In the WebdavServlet, INFINITY is set to 3, which unfortunatelydoes not correspond to the standard. CODE /  Default depth is infite. /private static final int INFINITY = 3; // To limit tree browsing a bit<<< END OF CODE <<<Perhaps this could be changed to a much higher value (e.g. maxint).Below, there is a method named propfind, where the following codecan be found: CODE String depthStr = req.getHeader(\"Depth\");if (depthStr == null) {depth = INFINITY;} else {if (depthStr.equals(\"0\")) {depth = 0;} else if (depthStr.equals(\"1\")) {depth = 1;} else if (depthStr.equals(\"infinity\")) {depth = INFINITY;}}<<< END OF CODE <<<Perhaps one should use an integer conversion function and in caseof an exception one could use infinity.Hope this describes the problem good enough.The same problem occurs in Tomcat 5.x, as well."}
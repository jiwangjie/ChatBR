{"bug_id": "39231", "title": "Bug 39231The JAAS contract for LoginModule is broken", "description": "The issue is that the custom JAAS's LoginModule.logout() method is nevercalled. I guess this has been never implemented correctly (at least sinceTomcat 5.5.9).The thing is that according to the JAAS spec, the LoginContext.logout() issupposed to invoke the logout method for each LoginModule configured for thisLoginContext.So, somebody should be sure to call LoginContext.logout() method. The callerfor this method could be either a server or a client.So, either Tomcat should provide some means to access the LoginContext to theclients, or Tomcat should take the responsibility to call this method by itself.I guess the solution could be for Tomcat to associate the instance ofLoginContext with the user's session, and then Tomcat could invokeLoginContext.logout() when the session is being invalidated (both when thesession times out or invalidated explicitely).I hope that I am correctly interpreting the JAAS spec."}
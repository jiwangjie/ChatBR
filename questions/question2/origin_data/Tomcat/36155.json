{"bug_id": "36155", "title": "Bug 36155tomcat chooses wrong host if using modjk", "description": "Hi,my config is as follows:tomcat 5.5.9 knows two hosts, let's say the host \"host1\" and the host \"host2\".http://host1/ is basically a jsppage echoing the string host1  http://host2/echos the string host2.apache 2.0.54 is configured with two vhost with ServerName host1 and host2. Bothservers have a ServerAlias too  the one has ServerAlias alias1, the other hasServerAlias alias2modjk 1.2.14 only knows one worker. My worker.properties looks like this:worker.list=worker1worker.worker1.type=ajp13worker.worker1.host=127.0.0.1A very simple config. Both apache vhosts contain a \"JkMount .jsp worker1\"Apache's UseCanonialName is on and Tomcats AJPconnector has useIPVHosts turnedon. Therefor tomcat will chose the host by the servername that modjk sends.So calling http://alias1/ results in a page containing the string host1, andcalling http://alias2/ results in a page containing the string host2.The problem:Sometimes (not always and very selden) http://alias1 returns the string host2and http://alias2 returns the string host1.I'm not sure, where the problem is, but i'm almost sure it's modjk  although idon't know, what should go wrong.I now defined a second worker with the same address and each of apache's vhostsuse a different worker. The error didn't come up yet."}
{"bug_id": "39458", "title": "Bug 39458Compiler crash in ajc 1.1", "description": "Here is the compiler output. Source code below.C:\\devel\\test\\entAJtutorial\\testajc Processing.javaC:\\devel\\test\\entAJtutorial\\test\\Processing.java:17 this affected type is notexposed to the weaver: java.lang.Void (needed for privileged access)[Xlint:typeNotExposedToWeaver]java.lang.NullPointerExceptionatorg.eclipse.jdt.internal.compiler.lookup.SyntheticAccessMethodBinding.initializeConstructorAccessor(SyntheticAccessMethodBinding.java:215)atorg.eclipse.jdt.internal.compiler.lookup.SyntheticAccessMethodBinding.<init(SyntheticAccessMethodBinding.java:136)atorg.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.addSyntheticMethod(SourceTypeBinding.java:332)atorg.eclipse.jdt.internal.compiler.ast.AllocationExpression.manageSyntheticAccessIfNecessary(AllocationExpression.java:200)atorg.eclipse.jdt.internal.compiler.ast.AllocationExpression.analyseCode(AllocationExpression.java:60)at org.eclipse.jdt.internal.compiler.ast.ReturnStatement.analyseCode(ReturnStatement.java:37)at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:41)at org.eclipse.jdt.internal.compiler.ast.IfStatement.analyseCode(IfStatement.java:84)at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.analyseCode(MethodDeclaration.java:70)atorg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.internalAnalyseCode(TypeDeclaration.java:639)at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.analyseCode(TypeDeclaration.java:196)atorg.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.analyseCode(CompilationUnitDeclaration.java:78)at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:541)at org.aspectj.ajdt.internal.compiler.AjCompiler.process(AjCompiler.java:65)at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:338)atorg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:372)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:133)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:78)at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:106)at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60)at org.aspectj.tools.ajc.Main.run(Main.java:217)at org.aspectj.tools.ajc.Main.runMain(Main.java:155)at org.aspectj.tools.ajc.Main.main(Main.java:72)C:\\devel\\test\\entAJtutorial\\test\\Processing.java:0 Internal compiler errorjava.lang.NullPointerExceptionatorg.eclipse.jdt.internal.compiler.lookup.SyntheticAccessMethodBinding.initializeConstructorAccessor(SyntheticAccessMethodBinding.java:215)atorg.eclipse.jdt.internal.compiler.lookup.SyntheticAccessMethodBinding.<init(SyntheticAccessMethodBinding.java:136)atorg.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.addSyntheticMethod(SourceTypeBinding.java:332)atorg.eclipse.jdt.internal.compiler.ast.AllocationExpression.manageSyntheticAccessIfNecessary(AllocationExpression.java:200)atorg.eclipse.jdt.internal.compiler.ast.AllocationExpression.analyseCode(AllocationExpression.java:60)at org.eclipse.jdt.internal.compiler.ast.ReturnStatement.analyseCode(ReturnStatement.java:37)at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:41)at org.eclipse.jdt.internal.compiler.ast.IfStatement.analyseCode(IfStatement.java:84)at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.analyseCode(MethodDeclaration.java:70)atorg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.internalAnalyseCode(TypeDeclaration.java:639)at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.analyseCode(TypeDeclaration.java:196)atorg.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.analyseCode(CompilationUnitDeclaration.java:78)at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:541)at org.aspectj.ajdt.internal.compiler.AjCompiler.process(AjCompiler.java:65)at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:338)atorg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:372)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:133)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:78)at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:106)at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60)at org.aspectj.tools.ajc.Main.run(Main.java:217)at org.aspectj.tools.ajc.Main.runMain(Main.java:155)at org.aspectj.tools.ajc.Main.main(Main.java:72)!! no source information available !!ABORTException thrown from AspectJ 1.1.0This might be logged as a bug already  find current bugs athttp://bugs.eclipse.org/bugs/buglist.cgi?product=AspectJ&component=CompilerBugs for exceptions thrown have titles File:line from the top stack,e.g., \"SomeFile.java:243\"If you don't find the exception below in a bug, please add a new bugat http://bugs.eclipse.org/bugs/enterbug.cgi?product=AspectJTo make the bug a priority, please include a test programthat can reproduce this exception.nulljava.lang.NullPointerExceptionatorg.eclipse.jdt.internal.compiler.lookup.SyntheticAccessMethodBinding.initializeConstructorAccessor(SyntheticAccessMethodBinding.java:215)atorg.eclipse.jdt.internal.compiler.lookup.SyntheticAccessMethodBinding.<init(SyntheticAccessMethodBinding.java:136)atorg.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.addSyntheticMethod(SourceTypeBinding.java:332)atorg.eclipse.jdt.internal.compiler.ast.AllocationExpression.manageSyntheticAccessIfNecessary(AllocationExpression.java:200)atorg.eclipse.jdt.internal.compiler.ast.AllocationExpression.analyseCode(AllocationExpression.java:60)at org.eclipse.jdt.internal.compiler.ast.ReturnStatement.analyseCode(ReturnStatement.java:37)at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:41)at org.eclipse.jdt.internal.compiler.ast.IfStatement.analyseCode(IfStatement.java:84)at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.analyseCode(MethodDeclaration.java:70)atorg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.internalAnalyseCode(TypeDeclaration.java:639)at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.analyseCode(TypeDeclaration.java:196)atorg.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.analyseCode(CompilationUnitDeclaration.java:78)at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:541)at org.aspectj.ajdt.internal.compiler.AjCompiler.process(AjCompiler.java:65)at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:338)atorg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:372)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:133)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:78)at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:106)at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60)at org.aspectj.tools.ajc.Main.run(Main.java:217)at org.aspectj.tools.ajc.Main.runMain(Main.java:155)at org.aspectj.tools.ajc.Main.main(Main.java:72)1 fail|abort, 1 error, 1 warningProcessing.java source:import org.aspectj.lang.;import org.aspectj.lang.reflect.;import java.lang.reflect.Method;public aspect Processing {Object around() :call(new(..)){return proceed();}Object around() :call( (..)) {MethodSignature sig = (MethodSignature)thisJoinPoint.getSignature();Class returnType = sig.getReturnType();if (returnType == java.lang.Void.TYPE) {return new java.lang.Void(); // this works if you make it null}}}"}
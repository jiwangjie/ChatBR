{"bug_id": "32463", "title": "Bug 32463ajc reports error when encountering static declaration of nested classes", "description": "Version: AspectJ Compiler 1.1beta4The ajc compiler issues a spurious error message and exits with a negativeerror code when weaving code containing static declaration of a nested class.The compiler seem to write the classfiles correctly but the negative exitstatus causes problems when e.g. using the AjcCompilerAdapter in ant.To reproduce:1) Extract the following two files into an empty directory:// File: A.aj:aspect A{pointcut withinTest(): within(Test);pointcut callToHandleOrder() : (withinTest() &&call( handleOrder(..)));Object around(): callToHandleOrder() {return \"DUMMY inserted by ASPECT\" ;}}// End of File A.aj// File : Test.javapublic class Test{// Commenting out the static declaration makes everything work OKstatic{class StaticNestedClass{}}public static void main(String[] args){System.out.println(new Test().handleOrder(\"test\"));}private String handleOrder(String t){return t;}}// End of Test.java2) Compile the filesajc sourceroots . verboseOutput:compiling c:/aspectj1.1/doc/examples/bug/./A.ajcompiling c:/aspectj1.1/doc/examples/bug/./Test.javaweavingmight need to weave [UnwovenClassFile(null, Test$1$StaticNestedClass),UnwovenClassFile(null, A), UnwovenClassFile(null, Test)](world=true)wrote class file: c:\\aspectj1.1\\doc\\examples\\bug\\A.classcan't find type Test$1wrote class file: c:\\aspectj1.1\\doc\\examples\\bug\\Test$1$StaticNestedClass.classwrote class file: c:\\aspectj1.1\\doc\\examples\\bug\\Test.class1 error"}
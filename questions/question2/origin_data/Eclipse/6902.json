{"bug_id": "6902", "title": "Bug 6902Perps ext. to add new view fails because of folders.", "description": "This is using build 20011204 on Windows 2000Using the perspectiveExtension extension point, a view may not be addedproperly if the referenced view is inside a tab folder. For example, in theDebug perspective, if I want to add a view to the left to the Properties view,it will fail because the Properties view is inside a tab folder with the viewOutline.Looking at the code, in PerspectiveExtension.processView, it callsPageLayout.addView, which calls PageLayout.getRefPart. This getRefPart methodreturns null cause the ref part id for the Properties view is not in the map(only the part tab folder containing the Properties view is in the map).Asking the developer to specify the part tab folder id instead of the view idis not recommended as that is internal code to the perspective. Best ifPageLayout was capable of finding the part inside the part tab folder.Below is a plugin.xml file and view source code. Simply create a Java projectwith the name com.company.myplugin and set the classpath (core, swt, ui, etc) plugin.xml<?xml version=\"1.0\" encoding=\"UTF8\"?<! File written by PDE 1.0 <pluginid=\"com.company.myplugin\"name=\"My Plugin\"version=\"1.0.0\"providername=\"COMPANY\"<requires<import plugin=\"org.eclipse.core.runtime\"/<import plugin=\"org.eclipse.core.resources\"/<import plugin=\"org.eclipse.ui\"/<import plugin=\"org.eclipse.swt\"/<import plugin=\"org.eclipse.core.boot\"/</requires<runtime<library name=\"myplugin.jar\"/</runtime<extension point=\"org.eclipse.ui.perspectiveExtensions\"<perspectiveExtensiontargetID=\"org.eclipse.debug.ui.DebugPerspective\"<viewid=\"com.company.myplugin.MyView\"relative=\"org.eclipse.ui.views.PropertySheet\"relationship=\"right\"ratio=\"0.5\"</view<viewShortcutid=\"com.company.myplugin.MyView\"</viewShortcut</perspectiveExtension</extension<extension point=\"org.eclipse.ui.views\"<viewid=\"com.company.myplugin.MyView\"name=\"My Plugin\"class=\"com.company.myplugin.MyViewClass\"category=\"org.eclipse.debug.ui\"</view</extension</pluginplugin.xmlsource codepackage com.company.myplugin;import org.eclipse.swt.widgets.;import org.eclipse.ui.part.ViewPart;public class MyViewClass extends ViewPart {private Label label;public MyViewClass() {super();}public void setFocus() {label.setFocus();}public void createPartControl(Composite parent) {label = new Label(parent, 0);label.setText(\"Hello World\");}} source code"}
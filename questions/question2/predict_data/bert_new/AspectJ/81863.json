{"id": "81863", "title": "Bug 81863Annotation matching using within() PCD doesn't appear to be working.", "description": "Bug 81863Annotation matching using within() PCD doesn't appear to be working. From discussion on aspectj list:Hi,Well, having just done some testing, I think this even simpler case showswithin() is not behaving correctly for annotations:@Entitypublic class myClass1 {...}public class myClass2 {...}public aspect myAspect {before():call( (..)) && within(@Entity ) {}}The pointcut matches all the method calls in myClass1 and myClass2(effectively it is parsing but then ignoring the annotation specifiedin the within()).So, what you want to do is valid but AspectJ is misbehavingyou get astack overflow because the perthis() clause is also matching on your aspecttype when obviously that doesnt have the annotation and shouldnt be matched.Andy.Andy ClementAspectJ DevelopmentRifflard Micka\u00ebl <Mickael.Rifflard@atosorigin.comSent by: aspectjusersadmin@eclipse.org22/12/2004 16:56Please respond toaspectjusers@eclipse.orgTo<aspectjusers@eclipse.orgccSubject[aspectjusers] Aspect instance on JDK 1.5 annotationHi all,I'm currently trying to get an aspect instance for an object instance withspecific JDK 1.5 annotation.Exemple :Create an aspect instance for all object like that :@Entitypublic class myClass { ... }I trypublic aspect myAspect perthis(within(@Entity )) {...}but this aspect execution lead to a java.lang.StackOverflowError exception.Is it possible ?Thanks.Micka\u00ebl aspectjusers mailing listaspectjusers@eclipse.org http://dev.eclipse.org/mailman/listinfo/aspectjusers ", "OB": "", "EB": "", "SR": ""}
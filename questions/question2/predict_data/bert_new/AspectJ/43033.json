{"id": "43033", "title": "Bug 43033Compiler crash in ajc head (post 1.1.1 rc1) on erroneous program", "description": "Bug 43033Compiler crash in ajc head (post 1.1.1 rc1) on erroneous program This must be caused by the fix to concretization...Input sources:package base;public abstract aspect ExceptionHandling {public abstract pointcut scope();declare soft: Exception: scope();}package model;import base.ExceptionHandling;public aspect ModelExceptionHandling extends ExceptionHandling {public pointcut scope() : within();protected RuntimeException convertCheckedException(Throwable t) {return new RuntimeException(t.getMessage(), t}Compiler output:C:\\eclipse\\workspace\\atrackajc d debug @narrow.lstjava.lang.NullPointerExceptionat org.aspectj.weaver.patterns.ReferencePointcut.concretize1(ReferencePointcut.java:243)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:127)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:110)at org.aspectj.weaver.CrosscuttingMembers.addDeclare(CrosscuttingMembers.java:111)at org.aspectj.weaver.CrosscuttingMembers.addDeclares(CrosscuttingMembers.java:92)at org.aspectj.weaver.ResolvedTypeX.collectCrosscuttingMembers(ResolvedTypeX.java:332)at org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(CrosscuttingMembersSet.java:50)atorg.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerClause(AspectDeclaration.java:754)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAndPerClause(AjLookupEnvironment.java:124)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:91)at org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:310)at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:324)atorg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:373)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:125)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:70)at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:99)at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)at org.aspectj.tools.ajc.Main.run(Main.java:217)at org.aspectj.tools.ajc.Main.runMain(Main.java:155)at org.aspectj.tools.ajc.Main.main(Main.java:72)C:\\eclipse\\workspace\\atrack\\src\\org\\atrack\\model\\error\\impl\\ModelExceptionHandling.java:0 Internal compiler errorjava.lang.NullPointerExceptionat org.aspectj.weaver.patterns.ReferencePointcut.concretize1(ReferencePointcut.java:243)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:127)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:110)at org.aspectj.weaver.CrosscuttingMembers.addDeclare(CrosscuttingMembers.java:111)at org.aspectj.weaver.CrosscuttingMembers.addDeclares(CrosscuttingMembers.java:92)at org.aspectj.weaver.ResolvedTypeX.collectCrosscuttingMembers(ResolvedTypeX.java:332)at org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(CrosscuttingMembersSet.java:50)atorg.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerClause(AspectDeclaration.java:754)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAndPerClause(AjLookupEnvironment.java:124)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:91)at org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:310)at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:324)atorg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:373)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:125)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:70)at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:99)at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)at org.aspectj.tools.ajc.Main.run(Main.java:217)at org.aspectj.tools.ajc.Main.runMain(Main.java:155)at org.aspectj.tools.ajc.Main.main(Main.java:72)!! no source information available ! !C:\\eclipse\\workspace\\atrack\\src\\org\\atrack\\model\\error\\impl\\ModelExceptionHandling.java:23 Unmatched bracketreturn new RuntimeException(t.getMessage(), t^ABORTException thrown from AspectJ DEVELOPMENTThis might be logged as a bug alreadyfind current bugs athttp://bugs.eclipse.org/bugs/buglist.cgi?product=AspectJ&component=CompilerBugs for exceptions thrown have titles File:line from the top stack,e.g., \"SomeFile.java:243\"If you don't find the exception below in a bug, please add a new bugat http://bugs.eclipse.org/bugs/enterbug.cgi?product=AspectJTo make the bug a priority, please include a test programthat can reproduce this exception.nulljava.lang.NullPointerExceptionat org.aspectj.weaver.patterns.ReferencePointcut.concretize1(ReferencePointcut.java:243)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:127)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:110)at org.aspectj.weaver.CrosscuttingMembers.addDeclare(CrosscuttingMembers.java:111)at org.aspectj.weaver.CrosscuttingMembers.addDeclares(CrosscuttingMembers.java:92)at org.aspectj.weaver.ResolvedTypeX.collectCrosscuttingMembers(ResolvedTypeX.java:332)at org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(CrosscuttingMembersSet.java:50)atorg.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerClause(AspectDeclaration.java:754)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAndPerClause(AjLookupEnvironment.java:124)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:91)at org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:310)at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:324)atorg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:373)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:125)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:70)at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:99)at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)at org.aspectj.tools.ajc.Main.run(Main.java:217)at org.aspectj.tools.ajc.Main.runMain(Main.java:155)at org.aspectj.tools.ajc.Main.main(Main.java:72)1 fail|abort, 2 errorsC:\\eclipse\\workspace\\atrackcd \\devel\\test\\excHandling\\c1C:\\devel\\test\\excHandling\\c1ajc base\\ExceptionHandling.javamodel\\ModelExceptionHandling.javajava.lang.NullPointerExceptionat org.aspectj.weaver.patterns.ReferencePointcut.concretize1(ReferencePointcut.java:243)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:127)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:110)at org.aspectj.weaver.CrosscuttingMembers.addDeclare(CrosscuttingMembers.java:111)at org.aspectj.weaver.CrosscuttingMembers.addDeclares(CrosscuttingMembers.java:92)at org.aspectj.weaver.ResolvedTypeX.collectCrosscuttingMembers(ResolvedTypeX.java:332)at org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(CrosscuttingMembersSet.java:50)atorg.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerClause(AspectDeclaration.java:754)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAndPerClause(AjLookupEnvironment.java:124)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:91)at org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:310)at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:324)atorg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:373)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:125)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:70)at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:99)at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)at org.aspectj.tools.ajc.Main.run(Main.java:217)at org.aspectj.tools.ajc.Main.runMain(Main.java:155)at org.aspectj.tools.ajc.Main.main(Main.java:72)C:\\devel\\test\\excHandling\\c1\\model\\ModelExceptionHandling.java:0 Internalcompiler errorjava.lang.NullPointerExceptionat org.aspectj.weaver.patterns.ReferencePointcut.concretize1(ReferencePointcut.java:243)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:127)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:110)at org.aspectj.weaver.CrosscuttingMembers.addDeclare(CrosscuttingMembers.java:111)at org.aspectj.weaver.CrosscuttingMembers.addDeclares(CrosscuttingMembers.java:92)at org.aspectj.weaver.ResolvedTypeX.collectCrosscuttingMembers(ResolvedTypeX.java:332)at org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(CrosscuttingMembersSet.java:50)atorg.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerClause(AspectDeclaration.java:754)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAndPerClause(AjLookupEnvironment.java:124)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:91)at org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:310)at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:324)atorg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:373)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:125)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:70)at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:99)at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)at org.aspectj.tools.ajc.Main.run(Main.java:217)at org.aspectj.tools.ajc.Main.runMain(Main.java:155)at org.aspectj.tools.ajc.Main.main(Main.java:72)!! no source information available ! !C:\\devel\\test\\excHandling\\c1\\model\\ModelExceptionHandling.java:9 Unmatchedbracketreturn new RuntimeException(t.getMessage(), t^ABORTException thrown from AspectJ DEVELOPMENTThis might be logged as a bug alreadyfind current bugs athttp://bugs.eclipse.org/bugs/buglist.cgi?product=AspectJ&component=CompilerBugs for exceptions thrown have titles File:line from the top stack,e.g., \"SomeFile.java:243\"If you don't find the exception below in a bug, please add a new bugat http://bugs.eclipse.org/bugs/enterbug.cgi?product=AspectJTo make the bug a priority, please include a test programthat can reproduce this exception.nulljava.lang.NullPointerExceptionat org.aspectj.weaver.patterns.ReferencePointcut.concretize1(ReferencePointcut.java:243)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:127)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:110)at org.aspectj.weaver.CrosscuttingMembers.addDeclare(CrosscuttingMembers.java:111)at org.aspectj.weaver.CrosscuttingMembers.addDeclares(CrosscuttingMembers.java:92)at org.aspectj.weaver.ResolvedTypeX.collectCrosscuttingMembers(ResolvedTypeX.java:332)at org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(CrosscuttingMembersSet.java:50)atorg.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerClause(AspectDeclaration.java:754)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAndPerClause(AjLookupEnvironment.java:124)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:91)at org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:310)at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:324)atorg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:373)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:125)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:70)at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:99)at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)at org.aspectj.tools.ajc.Main.run(Main.java:217)at org.aspectj.tools.ajc.Main.runMain(Main.java:155)at org.aspectj.tools.ajc.Main.main(Main.java:72)1 fail|abort, 2 errors ", "OB": "", "EB": "", "SR": ""}
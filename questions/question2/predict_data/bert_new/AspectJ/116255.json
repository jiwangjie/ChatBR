{"id": "116255", "title": "Bug 116255XML Linkage Error with LTW", "description": "Bug 116255XML Linkage Error with LTW I'mtrying to narrow down the date when this error first appeared. If I build andrun with the Sept. 23 dev build all works properly. If I build and run with theNov. 14 dev build it fails like this ...Here's the output:SEVERE: Error deploying configuration descriptor jpetstore.xmljava.lang.LinkageError: org/apache/xerces/jaxp/SAXParserFactoryImpl : alreadydefined in loaderat java.lang.ClassLoader.defineClass(Ljava.lang.String;[BIILjava.security.ProtectionDomain;)Ljava.lang.Class;(Unknown Source)at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:124)at org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:1629)at org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:850)at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1299)at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1181)at javax.xml.parsers.FactoryFinder.newInstance(FactoryFinder.java:88)at javax.xml.parsers.FactoryFinder.findJarServiceProvider(FactoryFinder.java:278)at javax.xml.parsers.FactoryFinder.find(FactoryFinder.java:185)at javax.xml.parsers.SAXParserFactory.newInstance(SAXParserFactory.java:107)at org.apache.tomcat.util.digester.Digester.getFactory(Digester.java:486)at org.apache.tomcat.util.digester.Digester.getParser(Digester.java:691)at org.apache.tomcat.util.digester.Digester.getXMLReader(Digester.java:899)at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1561)at org.apache.catalina.startup.TldConfig.tldScanStream(TldConfig.java:513)at org.apache.catalina.startup.TldConfig.tldScanTld(TldConfig.java:545)at org.apache.catalina.startup.TldConfig.execute(TldConfig.java:300)at org.apache.catalina.core.StandardContext.processTlds(StandardContext.java:4193)at org.apache.catalina.core.StandardContext.start(StandardContext.java:4049)at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:759)at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:524)at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:589)at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:536)at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:471)at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1102)at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311)at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1020)at org.apache.catalina.core.StandardHost.start(StandardHost.java:718)at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1012)error can't determine implemented interfaces of missing type javax.xml.rpc.Callwhen matching pointcut ((((within() && call(publicjavax.xml.rpc.Call.invoke(..))) && target(BindingTypePattern(java.lang.Object, 0))) && if(booleanglassbox.inspector.monitor.resource.RemoteCallMonitor.ajc$if12())) &&persingleton(glassbox.inspector.monitor.resource.RemoteCallMonitor))when matching shadow methodcall(booleanorg.apache.crimson.parser.ContentModel.empty())when weaving type org.apache.crimson.parser.ContentModelwhen weaving classeswhen weavingabort trouble in:final class org.apache.crimson.parser.ContentModel extends java.lang.Object:public char typepublic Object contentpublic org.apache.crimson.parser.ContentModel nextprivate org.apache.crimson.parser.SimpleHashtable cachepublic void <init(String):ALOAD0// org.apache.crimson.parser.ContentModelthis(line 116)INVOKESPECIAL java.lang.Object.<init ()Vconstructorexecution(void org.apache.crimson.parser.ContentModel.<init(java.lang.String))|ALOAD0// org.apache.crimson.parser.ContentModelthis(line 110)|NEW org.apache.crimson.parser.SimpleHashtable|DUP| constructorcall(void org.apache.crimson.parser.SimpleHashtable.<init())| |INVOKESPECIALorg.apache.crimson.parser.SimpleHashtable.<init ()V| constructorcall(void org.apache.crimson.parser.SimpleHashtable.<init())|PUTFIELD org.apache.crimson.parser.ContentModel.cacheLorg/apache/crimson/parser/SimpleHashtable;|ALOAD0// org.apache.crimson.parser.ContentModelthis(line 117)|ICONST0|PUTFIELD org.apache.crimson.parser.ContentModel.type C|ALOAD0// org.apache.crimson.parser.ContentModelthis(line 118)|ALOAD1// java.lang.String element|PUTFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;|RETURN(line 119)constructorexecution(void org.apache.crimson.parser.ContentModel.<init(java.lang.String))end public void <init(String)public void <init(char, org.apache.crimson.parser.ContentModel):ALOAD0// org.apache.crimson.parser.ContentModelthis(line 125)INVOKESPECIAL java.lang.Object.<init ()Vconstructorexecution(void org.apache.crimson.parser.ContentModel.<init(char, org.apache.crimson.parser.ContentModel))|ALOAD0// org.apache.crimson.parser.ContentModelthis(line 110)|NEW org.apache.crimson.parser.SimpleHashtable|DUP| constructorcall(void org.apache.crimson.parser.SimpleHashtable.<init())| |INVOKESPECIALorg.apache.crimson.parser.SimpleHashtable.<init ()V| constructorcall(void org.apache.crimson.parser.SimpleHashtable.<init())|PUTFIELD org.apache.crimson.parser.ContentModel.cacheLorg/apache/crimson/parser/SimpleHashtable;|ALOAD0// org.apache.crimson.parser.ContentModelthis(line 126)|ILOAD1// char type|PUTFIELD org.apache.crimson.parser.ContentModel.type C|ALOAD0// org.apache.crimson.parser.ContentModelthis(line 127)|ALOAD2// org.apache.crimson.parser.ContentModelcontent|PUTFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;|RETURN(line 128)constructorexecution(void org.apache.crimson.parser.ContentModel.<init(char, org.apache.crimson.parser.ContentModel))end public void <init(char, org.apache.crimson.parser.ContentModel)public boolean empty():methodexecution(boolean org.apache.crimson.parser.ContentModel.empty())|ALOAD0// org.apache.crimson.parser.ContentModelthis(line 137)|GETFIELD org.apache.crimson.parser.ContentModel.type C|LOOKUPSWITCH|0:L1|42:L0|43:L1|44:L7|63:L0|124:L2|default:L13|L0: ICONST1(line 140)|IRETURN|L1: ICONST0(line 144)|IRETURN|L2: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 147)|GETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;|INSTANCEOF org.apache.crimson.parser.ContentModel|IFEQ L3|ALOAD0// org.apache.crimson.parser.ContentModel this|GETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;|CHECKCAST org.apache.crimson.parser.ContentModel| methodcall(boolean org.apache.crimson.parser.ContentModel.empty())| |INVOKEVIRTUAL org.apache.crimson.parser.ContentModel.empty()Z| methodcall(boolean org.apache.crimson.parser.ContentModel.empty())|IFEQ L3|ICONST1(line 149)|IRETURN|L3: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 151)|GETFIELD org.apache.crimson.parser.ContentModel.nextLorg/apache/crimson/parser/ContentModel;|ASTORE1|GOTO L6|L4: ALOAD1// org.apache.crimson.parser.ContentModel m(line 154)|INVOKEVIRTUAL org.apache.crimson.parser.ContentModel.empty()Z|IFEQ L5|ICONST1(line 155)|IRETURN|L5: ALOAD1// org.apache.crimson.parser.ContentModel m(line 153)|GETFIELD org.apache.crimson.parser.ContentModel.nextLorg/apache/crimson/parser/ContentModel;|ASTORE1// org.apache.crimson.parser.ContentModel m|L6: ALOAD1// org.apache.crimson.parser.ContentModel m(line 152)|IFNONNULL L4|ICONST0(line 157)|IRETURN|L7: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 160)|GETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;|INSTANCEOF org.apache.crimson.parser.ContentModel|IFEQ L8|ALOAD0// org.apache.crimson.parser.ContentModelthis(line 161)|GETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;|CHECKCAST org.apache.crimson.parser.ContentModel|INVOKEVIRTUAL org.apache.crimson.parser.ContentModel.empty()Z|IFNE L9|ICONST0(line 162)|IRETURN|L8: ICONST0(line 165)|IRETURN|L9: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 167)|GETFIELD org.apache.crimson.parser.ContentModel.nextLorg/apache/crimson/parser/ContentModel;|ASTORE2|GOTO L12|L10: ALOAD2// org.apache.crimson.parser.ContentModel m(line 170)|INVOKEVIRTUAL org.apache.crimson.parser.ContentModel.empty()Z|IFNE L11|ICONST0(line 171)|IRETURN|L11: ALOAD2// org.apache.crimson.parser.ContentModel m(line 169)|GETFIELD org.apache.crimson.parser.ContentModel.nextLorg/apache/crimson/parser/ContentModel;|ASTORE2// org.apache.crimson.parser.ContentModel m|L12: ALOAD2// org.apache.crimson.parser.ContentModel m(line 168)|IFNONNULL L10|ICONST1(line 173)|IRETURN|L13: NEW java.lang.InternalError(line 176)|DUP|INVOKESPECIAL java.lang.InternalError.<init ()V|ATHROWmethodexecution(boolean org.apache.crimson.parser.ContentModel.empty())end public boolean empty()public boolean first(String):ALOAD0// org.apache.crimson.parser.ContentModelthis(line 186)GETFIELD org.apache.crimson.parser.ContentModel.cacheLorg/apache/crimson/parser/SimpleHashtable;ALOAD1// java.lang.String tokenINVOKEVIRTUAL org.apache.crimson.parser.SimpleHashtable.get(Ljava/lang/String;)Ljava/lang/Object;CHECKCAST java.lang.BooleanASTORE2ALOAD2// java.lang.Boolean b(line 189)IFNULL L0ALOAD2// java.lang.Boolean b(line 190)INVOKEVIRTUAL java.lang.Boolean.booleanValue ()ZIRETURNL0: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 193)GETFIELD org.apache.crimson.parser.ContentModel.type CLOOKUPSWITCH0:L142:L143:L144:L563:L1124:L12default:L16L1: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 198)GETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;INSTANCEOF java.lang.StringIFEQ L4ALOAD0// org.apache.crimson.parser.ContentModelthis(line 199)GETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;ALOAD1// java.lang.String tokenIFACMPNE L2ICONST1GOTO L3L2: ICONST0L3: ISTORE3GOTO L17L4: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 201)GETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;CHECKCAST org.apache.crimson.parser.ContentModelALOAD1// java.lang.String tokenINVOKEVIRTUAL org.apache.crimson.parser.ContentModel.first(Ljava/lang/String;)ZISTORE3// boolean retvalGOTO L17(line 202)L5: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 205)GETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;INSTANCEOF java.lang.StringIFEQ L8ALOAD0// org.apache.crimson.parser.ContentModelthis(line 206)GETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;ALOAD1// java.lang.String tokenIFACMPNE L6ICONST1GOTO L7L6: ICONST0L7: ISTORE3// boolean retvalGOTO L17L8: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 207)GETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;CHECKCAST org.apache.crimson.parser.ContentModelALOAD1// java.lang.String tokenINVOKEVIRTUAL org.apache.crimson.parser.ContentModel.first(Ljava/lang/String;)ZIFEQ L9ICONST1(line 208)ISTORE3// boolean retvalGOTO L17L9: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 209)GETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;CHECKCAST org.apache.crimson.parser.ContentModelINVOKEVIRTUAL org.apache.crimson.parser.ContentModel.empty()ZIFNE L10ICONST0(line 210)ISTORE3// boolean retvalGOTO L17L10: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 211)GETFIELD org.apache.crimson.parser.ContentModel.nextLorg/apache/crimson/parser/ContentModel;IFNULL L11ALOAD0// org.apache.crimson.parser.ContentModelthis(line 212)GETFIELD org.apache.crimson.parser.ContentModel.nextLorg/apache/crimson/parser/ContentModel;ALOAD1// java.lang.String tokenINVOKEVIRTUAL org.apache.crimson.parser.ContentModel.first(Ljava/lang/String;)ZISTORE3// boolean retvalGOTO L17L11: ICONST0(line 214)ISTORE3// boolean retvalGOTO L17(line 215)L12: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 218)GETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;INSTANCEOF java.lang.StringIFEQ L13ALOAD0// org.apache.crimson.parser.ContentModel thisGETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;ALOAD1// java.lang.String tokenIFACMPNE L13ICONST1(line 219)ISTORE3// boolean retvalGOTO L17L13: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 220)GETFIELD org.apache.crimson.parser.ContentModel.contentLjava/lang/Object;CHECKCAST org.apache.crimson.parser.ContentModelALOAD1// java.lang.String tokenINVOKEVIRTUAL org.apache.crimson.parser.ContentModel.first(Ljava/lang/String;)ZIFEQ L14ICONST1(line 221)ISTORE3// boolean retvalGOTO L17L14: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 222)GETFIELD org.apache.crimson.parser.ContentModel.nextLorg/apache/crimson/parser/ContentModel;IFNULL L15ALOAD0// org.apache.crimson.parser.ContentModelthis(line 223)GETFIELD org.apache.crimson.parser.ContentModel.nextLorg/apache/crimson/parser/ContentModel;ALOAD1// java.lang.String tokenINVOKEVIRTUAL org.apache.crimson.parser.ContentModel.first(Ljava/lang/String;)ZISTORE3// boolean retvalGOTO L17L15: ICONST0(line 225)ISTORE3// boolean retvalGOTO L17(line 226)L16: NEW java.lang.InternalError(line 229)DUPINVOKESPECIAL java.lang.InternalError.<init ()VATHROWL17: ILOAD3// boolean retval(line 233)IFEQ L18ALOAD0// org.apache.crimson.parser.ContentModelthis(line 234)GETFIELD org.apache.crimson.parser.ContentModel.cacheLorg/apache/crimson/parser/SimpleHashtable;ALOAD1// java.lang.String tokenGETSTATIC java.lang.Boolean.TRUE Ljava/lang/Boolean;INVOKEVIRTUAL org.apache.crimson.parser.SimpleHashtable.put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;POPGOTO L19L18: ALOAD0// org.apache.crimson.parser.ContentModelthis(line 236)GETFIELD org.apache.crimson.parser.ContentModel.cacheLorg/apache/crimson/parser/SimpleHashtable;ALOAD1// java.lang.String tokenGETSTATIC java.lang.Boolean.FALSE Ljava/lang/Boolean;INVOKEVIRTUAL org.apache.crimson.parser.SimpleHashtable.put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;POPL19: ILOAD3// boolean retval(line 238)IRETURNend public boolean first(String)end final class org.apache.crimson.parser.ContentModel ", "OB": "", "EB": "", "SR": "I am trying out a recent dev build of AspectJ and am now seeing a new linkageerror when I load a Web app that contains an XML deployment descriptor. "}
{"id": "228633", "title": "Bug 228633AST Support for PointcutDesignators", "description": "Bug 228633AST Support for PointcutDesignators I would like an enhancement to be able to match two PointcutDesignators (called 'pointcut definitions' in the AJ5 quick reference). The same is true for DefaultTypePattern and SignaturePattern. ), cflow, and reference pointcuts (without parameters).Please comment on the task list as it is just an initial overview resulting from my limited knowledge on this field. ", "OB": "Currently, the following test fails:AjASTMatcherTest.javapublic void testMatchDefaultPointcut() {AjAST ast = AjAST.newAjAST(AST.JLS3);DefaultPointcut dp1 = ast.newDefaultPointcut();DefaultPointcut dp2 = ast.newDefaultPointcut();dp1.setDetail(\"call( .foo(..)\");dp2.setDetail(\"call( .bar(..)\");assertFalse(dp1.subtreeMatch(new AjASTMatcher(), dp2));}The reason is that there are no implementations for the many different kinds of pointcut definitions of AspectJ. Instead, DefaultPointcut simply contains the pointcut definition in a Stringfield \"detail\" as shown in the test case. Additionally, in the current implementation a DefaultPointcut, DefaultTypePattern, and SignaturePattern node will always match another AST node if that node is of the same type (instanceof).From what I see, it is necessary to1) add types for every possible pointcut definition,2) extend the current implementation of type name patterns and3) signature patterns,4) extend the parser (internal and external?) ", "EB": "", "SR": "to create nodes for the pointcut definitions,5) extend the converter to convert the new node types, and finally6) extend the matcher to be able to match two pointcut definitions.Implementation is already done for combinations of poincuts using and (&&), or (||), not (! "}
{"id": "99168", "title": "Bug 99168[generics][itds] ITD on generic inner class crashes ajc", "description": "Bug 99168[generics][itds] ITD on generic inner class crashes ajc ", "OB": "intertype declaration on a generic inner class crashes the compiler:class Outer {class Inner {}class GenericInner<T {}}class GenericOuter<T {}aspect Injector {int Outer.outer; // worksint Outer.Inner.inner; // worksint GenericOuter.outer; // worksint Outer.GenericInner.inner; // crashes}/home/user/sgelin3/dev/java/ajc/newbug/Bug.java [error] Internal compiler errorjava.lang.RuntimeException: can't handle: class GenericInnerRAWextends NULL TYPENULL SUPERINTERFACESenclosing type : OuterNULL FIELDSNULL METHODSatorg.aspectj.ajdt.internal.compiler.lookup.InterTypeScope.makeSourceTypeBinding(InterTypeScope.java:35)atorg.aspectj.ajdt.internal.compiler.lookup.InterTypeScope.<init(InterTypeScope.java:28)atorg.aspectj.ajdt.internal.compiler.ast.InterTypeDeclaration.resolve(InterTypeDeclaration.java:101)atorg.aspectj.ajdt.internal.compiler.ast.InterTypeFieldDeclaration.resolve(InterTypeFieldDeclaration.java:141)atorg.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1076)atorg.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.resolve(AspectDeclaration.java:110)atorg.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1125)... ", "EB": "", "SR": "intertype declaration on a generic inner class crashes the compiler:class Outer {class Inner {}class GenericInner<T {}}class GenericOuter<T {}aspect Injector {int Outer.outer; // worksint Outer.Inner.inner; // worksint GenericOuter.outer; // worksint Outer.GenericInner.inner; // crashes}/home/user/sgelin3/dev/java/ajc/newbug/Bug.java [error] Internal compiler errorjava.lang.RuntimeException: can't handle: class GenericInnerRAWextends NULL TYPENULL SUPERINTERFACESenclosing type : OuterNULL FIELDSNULL METHODSatorg.aspectj.ajdt.internal.compiler.lookup.InterTypeScope.makeSourceTypeBinding(InterTypeScope.java:35)atorg.aspectj.ajdt.internal.compiler.lookup.InterTypeScope.<init(InterTypeScope.java:28)atorg.aspectj.ajdt.internal.compiler.ast.InterTypeDeclaration.resolve(InterTypeDeclaration.java:101)atorg.aspectj.ajdt.internal.compiler.ast.InterTypeFieldDeclaration.resolve(InterTypeFieldDeclaration.java:141)atorg.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1076)atorg.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.resolve(AspectDeclaration.java:110)atorg.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1125)... "}
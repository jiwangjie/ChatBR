{"id": "16433", "title": "Bug 16433Bad failure mode when view fails to load", "description": "", "OB": "Bug 16433Bad failure mode when view fails to load ", "EB": "", "SR": "Build 200205191) Start with a new workspace2) NewProjectPlugin Project3) Choose the sample \"Plugin with a view\"4) Hit finish5) Now launch a runtime workspace with this new plugin6) Open the \"Sample View\" created by the plugin7) Shutdown the runtime workbench8) Edit the Plugin class for your sample view plugin9) Override the Plugin.startup() method, and cause it to throw a CoreException.10) Restart the runtime workbench.11) You get the \"unable to restore workbench state\" dialog.Then, the workbench just crashes!There is nothing in the log file.Attempting to restart the workbench just immediately crashes again.On theconsole you can see the exception that caused the crash:java.lang.NullPointerExceptionat org.eclipse.ui.internal.PageLayout.createView(PageLayout.java:272)at org.eclipse.ui.internal.PageLayout.addView(PageLayout.java:205)atorg.eclipse.ui.internal.registry.PerspectiveExtensionReader.processView(PerspectiveExtensionReader.java:188)atorg.eclipse.ui.internal.registry.PerspectiveExtensionReader.processExtension(PerspectiveExtensionReader.java:87)atorg.eclipse.ui.internal.registry.PerspectiveExtensionReader.readElement(PerspectiveExtensionReader.java:219)atorg.eclipse.ui.internal.registry.RegistryReader.readElements(RegistryReader.java:119)atorg.eclipse.ui.internal.registry.RegistryReader.readExtension(RegistryReader.java:128)atorg.eclipse.ui.internal.registry.RegistryReader.readRegistry(RegistryReader.java:140)atorg.eclipse.ui.internal.registry.PerspectiveExtensionReader.extendLayout(PerspectiveExtensionReader.java:61)atorg.eclipse.ui.internal.Perspective.loadPredefinedPersp(Perspective.java:600)atorg.eclipse.ui.internal.Perspective.createPresentation(Perspective.java:231)at org.eclipse.ui.internal.Perspective.<init(Perspective.java:131)atorg.eclipse.ui.internal.WorkbenchPage.createPerspective(WorkbenchPage.java:870)at org.eclipse.ui.internal.WorkbenchPage.init(WorkbenchPage.java:1449)at org.eclipse.ui.internal.WorkbenchPage.<init(WorkbenchPage.java:326)atorg.eclipse.ui.internal.WorkbenchWindow.busyOpenPage(WorkbenchWindow.java:339)atorg.eclipse.ui.internal.WorkbenchWindow$6.run(WorkbenchWindow.java:903)at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:56)atorg.eclipse.ui.internal.WorkbenchWindow.openPage(WorkbenchWindow.java:900)atorg.eclipse.ui.internal.Workbench.openFirstTimeWindow(Workbench.java:727)at org.eclipse.ui.internal.Workbench.init(Workbench.java:563)at org.eclipse.ui.internal.Workbench.run(Workbench.java:1061)atorg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:739)at org.eclipse.core.boot.BootLoader.run(BootLoader.java:424)at EclipseRuntimeLauncher.main(EclipseRuntimeLauncher.java:24) "}
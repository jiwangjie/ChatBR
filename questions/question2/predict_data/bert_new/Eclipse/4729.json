{"id": "4729", "title": "Bug 4729PreferenceConvertersetValue does not check for \"underline\" or \"strikeout\" (1GFJ5UF)", "description": "Bug 4729PreferenceConvertersetValue does not check for \"underline\" or \"strikeout\" (1GFJ5UF) ", "OB": "When two font data objects are being compared, the FontData.getStyle() method compares only on BOLD and ITALIC.Therefore, if two font data objects are the same except one has underline (or strikeout) turned on and the other has it turned off, thenthe getStyle won't be able to make the difference. ", "EB": "", "SR": "In this case, the method equals should then be used.I found a bug while I was playing with the font chooser in the debugconsole preference page:1 click on \"change...\" and modify the font by setting \"underline\" on2 click \"ok\" in the font chooser and save the preference by clicking on \"OK\"3 then come again to the preference page, click again on \"change...\" andset \"underline\" off4 click \"ok\" in the font chooser and save the preference by clicking on \"OK\"5 if you come again to the preference page and check the state of the font in the file chooser, you will notice that \"underline\" is still on...Actually, the PreferenceConverter.setValue(IPreferenceStore store, String name, FontData value) checks if the new and the old fonts are different,and if they are different, then it sets the new values.However, PreferenceConverter is using getStyle to compare the 2 FontData, whereas it should use equals to see that there is actually a difference.NOTES:KH (9/17/2001 12:45:35 PM)Moving to SWT for comment. "}
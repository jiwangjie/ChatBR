{"id": "9262", "title": "Bug 9262[Viewers] Recursion with multiple equal elements in IStructuredContentProvider/ITreeContentProvider", "description": "Bug 9262[Viewers] Recursion with multiple equal elements in IStructuredContentProvider/ITreeContentProvider (The node representing 'input' has one child, which is a noderepresenting 'input', and this situation recurses forever. ", "OB": "Currently, IStructuredContentProvider does not restrict the output ofgetElements(Object input).However, the following code produces a bug:public class MyContentProvider implements TreeContentProvider {...public Object[] getElements(Object input) {return new Object[] {input};}}If MyContentProvider is supplied to a TreeViewer, the result is an infinitetree. )It seems that acomparison is being made somewhere so that if a node is equal to the input,getElements is called, otherwise, getChildren is called.So, the arrayreturned by getElements cannot contain the input object.Either the spec on IStructuredContentProvider should be changed to restrict thereturned array, or the logic in TreeViewer (and any other viewer with thisproblem) that determines whether an object is the root or a child should bemade more general. ", "EB": "", "SR": ""}
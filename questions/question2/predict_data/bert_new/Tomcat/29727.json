{"id": "29727", "title": "Bug 29727JNDI enventry not reload when context reloaded", "description": "", "OB": "Bug 29727JNDI enventry not reload when context reloaded ", "EB": "", "SR": "If environment entries are changed in web.xml, and the application context isrestarted, the values in the JNDI context are the old values.If the environment entries are changed via the Tomcat 'admin' interface, thenthe values provided to the context are correct.The following code is can be used to check the environment:try {InitialContext ic = new InitialContext();NamingEnumeration enum = ic.listBindings(\"java:comp/env\");while (enum.hasMore()) {Binding binding = (Binding) enum.next();jndi.setProperty(binding.getName(), \"\" + binding.getObject());System.out.println(\"jndi setting: \" + binding.getName() + \"=\"+ binding.getObject());}} catch (NamingException e) {System.err.println(\"unable to read JNDI settings, \" + e);}The web.xml fragment looks as follows:<enventry<enventrynameDatabaseURL</enventryname<enventryvaluejdbc:hsqldb:hsql://localhost</enventryvalue<enventrytypejava.lang.String</enventrytype</enventry "}
{"id": "43236", "title": "Bug 43236Response.setCharacterEncoding() fails after Response.getWriter() and Response.reset()", "description": "The class org.apache.catalina.connector.Responseresets the internal hold coyoteResponse and outputBuffer during reset():public void reset() {if (included)return;// Ignore any call from an included servletcoyoteResponse.reset();outputBuffer.reset();}but if anyone has already set the characterEncoding (e.g. So I have no change to change/reset thecharaterEncoding to UTF8.I'll think if you reset the response, you should also reset the usingWriter flagor add another special flag, that works with this circumstances. ", "OB": "Bug 43236Response.setCharacterEncoding() fails after Response.getWriter() and Response.reset() to UTF8) and alreadygot the writer, than all following invocations of request.setCharacterEncoding()will do nothing, because the internal save flag for usingWriter is not reseted.This is very annoying, because the coyoteResponse.reset(), resets thecharacterEncoding to iso88591. ", "EB": "", "SR": ""}
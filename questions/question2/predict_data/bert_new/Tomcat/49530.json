{"id": "49530", "title": "Bug 49530Context is not correctly stopped at shutdown", "description": "Bug 49530Context is not correctly stopped at shutdown Created attachment 25669 [details]Application that show the behaviorApparently a web application context is not correctly stopped when shutting down Tomcat 7.0.0. I noticed that the destroy() method of a Servlet that's loaded on startup was not called, and put together a test case (see attached files).The test servlet writes to System.out on init() and destroy(), the output on init appears in logs/catalina.out, but no output on destroy. From what Iunderstand of the attached log, the context isn't stopped at all.Steps to reproduce:1. copy attached startupServlet.war to webapps2. stop TomcatActual Result:no output appears in logs/catalina.outExpected Result:\"StartTestServlet.destroy\" appears in catalina.outcatalina.log shows evidence of context /startupServlet being stoppedFWIW:java version:java version \"1.6.020\"Java(TM) SE Runtime Environment (build 1.6.020b02)Java HotSpot(TM) 64Bit Server VM (build 16.3b01, mixed mode)uname aLinux <hostname 2.6.3222generic 36Ubuntu SMP Thu Jun 3 19:31:57 UTC 2010 x8664 GNU/Linux ", "OB": "start Tomcat, then \"StartTestServlet.init\" appears in catalina.out3. ", "EB": "", "SR": ""}
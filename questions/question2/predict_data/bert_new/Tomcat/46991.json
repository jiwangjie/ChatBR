{"id": "46991", "title": "Bug 46991\"Bytes received \"problem", "description": "Bug 46991\"Bytes received \"problem ", "OB": "use jk modulesubmit some data with post method ,but\"Bytes received\" always show zerosee source file ,JkCoyoteHandler.java ,in \"inovke\" method public int invoke( Msg msg, MsgContext ep )throws IOException {if( ep.isLogTimeEnabled() )ep.setLong( MsgContext.TIMERPREREQUEST, System.currentTimeMillis());Request req=ep.getRequest();Response res=req.getResponse();if( log.isDebugEnabled() )log.debug( \"Invoke \" + req + \" \" + res + \" \" + req.requestURI().toString());res.setNote( epNote, ep );ep.setStatus( MsgContext.JKSTATUSHEAD );RequestInfo rp = req.getRequestProcessor();rp.setStage(Constants.STAGESERVICE);try {adapter.service( req, res );} catch( Exception ex ) {log.info(\"Error servicing request \" + req,ex);}if(ep.getStatus() != MsgContext.JKSTATUSCLOSED) {res.finish();}req.recycle();req.updateCounters();//see this lineres.recycle();ep.recycle();if( ep.getStatus() == MsgContext.JKSTATUSERROR ) {return ERROR;}ep.setStatus( MsgContext.JKSTATUSNEW );rp.setStage(Constants.STAGEKEEPALIVE);return OK;} the request object recycled,the \"byteRead\" property must be set to zero ,but at the next line ,begin to \"updateCounters\",this may be a bug ", "EB": "", "SR": ""}
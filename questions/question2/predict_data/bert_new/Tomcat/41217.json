{"id": "41217", "title": "Bug 41217SingleSignOn Cookie does not honor https access: Login Information Disclosure", "description": "I've not installed the complete source distribution inmy development environment, but it seems the points to change areorg.apache.catalina.authenticator.AuthenticatorBase.register(...), the code ofinterest being (from 5.5.30 source distribution)Cookie cookie = new Cookie(Constants.SINGLESIGNONCOOKIE, ssoId);cookie.setMaxAge(1);cookie.setPath(\"/\");hres.addCookie(cookie);As hres is an org.apache.catalina.HttpRequest, and I've looked through the codeto find org.apache.catalina.Request.setSecure() but no ...isSecure() (thoughthis is mentioned in the Javadoc for ...setSecure()) I suppose there needs to beanother change to provide isSecure on Request or HttpRequest, but this isdifficult to tell only from the editor.If isSecure() was there, there'd be acookie.setSecure(hres.isSecure())missing in the statements above... ", "OB": "Bug 41217SingleSignOn Cookie does not honor https access: Login Information Disclosure When using the SingleSignOn Valve(org.apache.catalina.authenticator.SingleSignOn) via https the CookieJSESSIONIDSSO is transmitted without the \"secure\" attribute, resulting in itbeing transmitted to any content that isby purpose or errorrequested viahttp from the same server.As the content of the SSOCookie is confidential (it will lead to automaticallylogged in sessions in other contextshttps or nonhttps) this should never happen.Sorry to have no patch. ", "EB": "", "SR": ""}
{"id": "21669", "title": "Bug 21669JNDIRealm roleBase pattern enahncement", "description": "Bug 21669JNDIRealm roleBase pattern enahncement If specified it may optionally includepattern replacements \"{0}\"..\"{n}\" corrosponding to the name parts of the user'sdistinguished name (as returned by javax.naming.Name.get()).For example, in the <Realm defintion in server.xml you could specify theroleBase as:roleBase=\"ou=Groups,{1},{0}\"The majority of the code to accomplish this would be in JNDIRealm.getRoles()and could look like this:String base = null;if ( roleBaseFormat != null ){NameParser np = context.getNameParser(\"\");Name name = np.parse(dn);String nameParts[] = new String[name.size()];for ( int idx = 0 ; idx < name.size() ; idx++ )nameParts[idx] = name.get(idx);base = roleBaseFormat.format(nameParts);}// Perform the configured search and process the resultsif (debug = 3) {log(\"Searching role base '\" + base + \"' for attribute '\" +roleName + \"'\");log(\"With filter expression '\" + filter + \"'\");}NamingEnumeration results =context.search(base, filter, controls);Thank You,Art ", "OB": "Currently the roleBase attribute must be a fxed location in the directory. If not specified, the searchbase is the top level directory context. ", "EB": "Asimple change would allow the role base to be specified relative to the userDN. My enhancement suggestion would change the roleBase definition as follows:roleBasethe base entry for the role search. ", "SR": ""}
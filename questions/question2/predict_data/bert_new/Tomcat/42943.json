{"id": "42943", "title": "Bug 42943jsp:text gets confused with other :text elements in a JSP tag file", "description": "I have a JSP .tag file (label.tagx) that I want to use in other JSPs. The tagfile looks as follows:<jsp:root version=\"2.0\"xmlns:jsp=\"http://java.sun.com/JSP/Page\"<jsp:directive.tag bodycontent=\"scriptless\"/<dul:text xmlns:dul=\"http://www.whatever.com/dul\"<jsp:doBody/</dul:text</jsp:rootWhen I want to use this tag file in a JSP:...<tagx:labelblablabla</tagx:label...I get the stacktrace at the end of this message.However, if I replace the dul:text element with something else, such asdul:dul:textzz, then everything works fine:<jsp:root version=\"2.0\"xmlns:jsp=\"http://java.sun.com/JSP/Page\"<jsp:directive.tag bodycontent=\"scriptless\"/<dul:textzz xmlns:dul=\"http://www.whatever.com/dul\"<jsp:doBody/</dul:textzz</jsp:rootSeems like the dul:text and jsp:text tags get confused (namespace problems? )somewhere during the page compilation.Stacktrace:20070720 12:05:50,828 [http8080Processor25] ERRORorg.apache.struts.taglib.tiles.InsertTagServletException in'/WEBINF/jsp/testpage.jsp': /WEBINF/tags/label.tagx(6,90) &lt;jsp:text&gt;must not have any subelementsorg.apache.jasper.JasperException: /WEBINF/tags/label.tagx(6,90)&lt;jsp:text&gt; must not have any subelementsatorg.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:39)at org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:409)at org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:90)at org.apache.jasper.compiler.JspDocumentParser.parse(JspDocumentParser.java:201)at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:197)at org.apache.jasper.compiler.ParserController.parse(ParserController.java:101)at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:203)at org.apache.jasper.compiler.Compiler.compile(Compiler.java:495)at org.apache.jasper.compiler.Compiler.compile(Compiler.java:476)at org.apache.jasper.compiler.Compiler.compile(Compiler.java:464)at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:511)atorg.apache.jasper.servlet.JspServletWrapper.loadTagFile(JspServletWrapper.java:201)atorg.apache.jasper.compiler.TagFileProcessor.loadTagFile(TagFileProcessor.java:514)at org.apache.jasper.compiler.TagFileProcessor.access$000(TagFileProcessor.java:47)atorg.apache.jasper.compiler.TagFileProcessor$TagFileLoaderVisitor.visit(TagFileProcessor.java:565)at org.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1441)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)at org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2324)at org.apache.jasper.compiler.Node$UninterpretedTag.accept(Node.java:1185)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)atorg.apache.jasper.compiler.TagFileProcessor$TagFileLoaderVisitor.visit(TagFileProcessor.java:569)at org.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1441)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)at org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2224)at org.apache.jasper.compiler.Node$JspRoot.accept(Node.java:525)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)at org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2219)at org.apache.jasper.compiler.Node$Root.accept(Node.java:456)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)atorg.apache.jasper.compiler.TagFileProcessor.loadTagFiles(TagFileProcessor.java:583)at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:226)at org.apache.jasper.compiler.Compiler.compile(Compiler.java:495)at org.apache.jasper.compiler.Compiler.compile(Compiler.java:476)at org.apache.jasper.compiler.Compiler.compile(Compiler.java:464)at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:511)atorg.apache.jasper.servlet.JspServletWrapper.loadTagFile(JspServletWrapper.java:201)atorg.apache.jasper.compiler.TagFileProcessor.loadTagFile(TagFileProcessor.java:514)at org.apache.jasper.compiler.TagFileProcessor.access$000(TagFileProcessor.java:47)atorg.apache.jasper.compiler.TagFileProcessor$TagFileLoaderVisitor.visit(TagFileProcessor.java:565)at org.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1441)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)at org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2324)at org.apache.jasper.compiler.Node$UninterpretedTag.accept(Node.java:1185)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)at org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2324)at org.apache.jasper.compiler.Node$UninterpretedTag.accept(Node.java:1185)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)atorg.apache.jasper.compiler.TagFileProcessor$TagFileLoaderVisitor.visit(TagFileProcessor.java:569)at org.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1441)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)at org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2324)at org.apache.jasper.compiler.Node$UninterpretedTag.accept(Node.java:1185)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)at org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2324)at org.apache.jasper.compiler.Node$UninterpretedTag.accept(Node.java:1185)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)at org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2324)at org.apache.jasper.compiler.Node$UninterpretedTag.accept(Node.java:1185)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)atorg.apache.jasper.compiler.TagFileProcessor$TagFileLoaderVisitor.visit(TagFileProcessor.java:569)at org.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1441)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)at org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2224)at org.apache.jasper.compiler.Node$JspRoot.accept(Node.java:525)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2213)at org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2219)at org.apache.jasper.compiler.Node$Root.accept(Node.java:456)at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2163)atorg.apache.jasper.compiler.TagFileProcessor.loadTagFiles(TagFileProcessor.java:583)at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:226)at org.apache.jasper.compiler.Compiler.compile(Compiler.java:495)at org.apache.jasper.compiler.Compiler.compile(Compiler.java:476)at org.apache.jasper.compiler.Compiler.compile(Compiler.java:464)at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:511)at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:295)at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)atorg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)atorg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)atorg.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:696)atorg.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:585)atorg.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:510)at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:966)at org.apache.jasper.runtime.PageContextImpl.include(PageContextImpl.java:602)at org.apache.struts.tiles.TilesUtilImpl.doInclude(TilesUtilImpl.java:101)at org.apache.struts.tiles.TilesUtil.doInclude(TilesUtil.java:137)at org.apache.struts.taglib.tiles.InsertTag.doInclude(InsertTag.java:758)atorg.apache.struts.taglib.tiles.InsertTag$InsertHandler.doEndTag(InsertTag.java:890)at org.apache.struts.taglib.tiles.InsertTag.doEndTag(InsertTag.java:460)atorg.apache.jsp.WEB002dINF.jsp.layouts.defaultjsp.jspxmethtilesinsert4(defaultjsp.java:401)atorg.apache.jsp.WEB002dINF.jsp.layouts.defaultjsp.jspService(defaultjsp.java:135)at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:94)at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:324)at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)atorg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)atorg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)atorg.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:696)atorg.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:474)atorg.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:409)atorg.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)... ", "OB": "Bug 42943jsp:text gets confused with other :text elements in a JSP tag file ", "EB": "", "SR": ""}
{"id": "42707", "title": "Bug 42707add host alias using jmx doesn't take affect until restart", "description": "", "OB": " Bug 42707add host alias using jmx doesn't take affect until restart I tried starting and stopping the hostfrom within jmx, it didn't help, I tried Catalina/Server/Operations/storeConfigand starting and stopping the host and that didn't help either.I tested with the following versions for the serverjdk 1.6.001b06tomcat 5.5.20, 6.0.10, 6.0.13for the client I was using the jdk 1.6.001b06 jconsole, as well as a customapplication I had written as well as the the \"administration web application 5.5.23\"all the combinations above had similar results.I will briefly mention that in tomcat 6.0.10/13 I was unable to save theconfiguration due to an error :Jun 20, 2007 5:26:11 PM org.apache.catalina.core.StandardServer storeConfigSEVERE: StoreConfig mbean not registeredCatalina:type=StoreConfigI will open a separate bug for that.In tomcat 5 I was able to save the config.If I restart tomcat5 after saving the config (using catalina.sh stop / start)the new alias works properly.Likewise, if I edit the tomcat 6 conf/server.xml and add the alias entry inmanually and restart tomcat, the url http://test1.localdomain:8080/test/ works fine.So, the main problem is that adding an alias dynamically doesn't seem to work.", "EB": "", "SR": " Adding a host alias using jmx doesn't take affect until tomcat is restarted.To test it I started tomcat usingDcom.sun.management.jmxremote Dcom.sun.management.jmxremote.port=6702Dcom.sun.management.jmxremote.authenticate=falseDcom.sun.management.jmxremote.ssl=falseI created a webappstest/test/index.htmlI created a new host<HostappBase=\"webappstest\"name=\"test.localdomain\"</HostI tested the url http://test.localdomain:8080/test/ and the index page showed upas expected.I used jconsole under Catalina/Host/test.localdomain/Operations/addAlias andadded test1.localdomain (I edited my /etc/hosts file to map test.localdomain andtest1.localdomain to 127.0.0.1).I went to the url http://test1.localdomain:8080/test/ and instead of theindex.html page I received a 404 error. I tried starting and stopping the hostfrom within jmx, it didn't help, I tried Catalina/Server/Operations/storeConfigand starting and stopping the host and that didn't help either.I tested with the following versions for the serverjdk 1.6.001b06tomcat 5.5.20, 6.0.10, 6.0.13for the client I was using the jdk 1.6.001b06 jconsole, as well as a customapplication I had written as well as the the \"administration web application 5.5.23\"all the combinations above had similar results.I will briefly mention that in tomcat 6.0.10/13 I was unable to save theconfiguration due to an error :Jun 20, 2007 5:26:11 PM org.apache.catalina.core.StandardServer storeConfigSEVERE: StoreConfig mbean not registeredCatalina:type=StoreConfigI will open a separate bug for that.In tomcat 5 I was able to save the config.If I restart tomcat5 after saving the config (using catalina.sh stop / start)the new alias works properly.Likewise, if I edit the tomcat 6 conf/server.xml and add the alias entry inmanually and restart tomcat, the url http://test1.localdomain:8080/test/ works fine.So, the main problem is that adding an alias dynamically doesn't seem to work."}
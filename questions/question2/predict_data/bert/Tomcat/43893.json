{"id": "43893", "title": "Bug 43893WebdavServlet returns incorrect values for the \"href\" property when it is mapped with / url prefix, instead of /", "description": " [CDATA[file.txt]]</displayname<getlastmodifiedSun, 18 Nov 2007 07:42:14 GMT</getlastmodified<getcontentlength0</getcontentlength<getcontenttypetext/plain</getcontenttype<getetagW/\"01195371734000\"</getetag<resourcetype/<source</source<supportedlock<lockentry<lockscope<exclusive/</lockscope<locktype<write/</locktype</lockentry<lockentry<lockscope<shared/</lockscope<locktype<write/</locktype</lockentry</supportedlock</prop<statusHTTP/1.1 200 OK</status</propstat</response</multistatusNote in particular the incorrect value in <href/webdav/file.txt/file.txt</href, paths are being duplicated.This wouldn't usually be a big problem as many WebDAV clients don't rely somuch on this \"href\" value, but the Apache slidewebdavlib client library relieson it and breaks if it's incorrect, so any WebDAV enabled applications usingthis library will not work with Tomcat 6. That's the only reason I marked thisbug as major, apologies if it's a wrong classification.", "OB": " Bug 43893WebdavServlet returns incorrect values for the \"href\" property when it is mapped with / url prefix, instead of / Observe the result:<?xml version=\"1.0\" encoding=\"utf8\" ?<multistatus xmlns=\"DAV:\"<response<href/webdav/file.txt/file.txt</href<propstat<prop<creationdate20071118T07:42:14Z</creationdate<displayname<!", "EB": "", "SR": " Deploy the attached WAR file under a vanilla installation of Tomcat 6.0.14,then send the following WebDAV request (I simply pasted it in netcat, maybetelnet will work too if you don't have netcat):PROPFIND /webdav/file.txt HTTP/1.1ContentType: text/xml; charset=utf8UserAgent: Jakarta CommonsHttpClient/3.0Host: localhost:8080Depth: 0Don't forget to press enter twice at the end."}
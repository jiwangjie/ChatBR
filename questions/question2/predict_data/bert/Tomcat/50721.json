{"id": "50721", "title": "Bug 50721RequestUtil.URLDecode() throws IllegalArgumentException for URLs with %xxCode as last character", "description": " Bug 50721RequestUtil.URLDecode() throws IllegalArgumentException for URLs with %xxCode as last character the %character), this test fails if \"%A4\" is at the end, but does not fail for \"%A4n\".Simple fix: In line 329 the '=' should be replaced by a '':if (ix + 2len) {This change should have no side effects, because ix is checked again before the next iteration.Because this change is trivial I did not include a patch.Best regardsChristof", "OB": " When calling org.apache.catalina.util.RequestUtil.URLDecode() for a valid URL ending with a %xxCode, the method throws the IllegalArgumentException \"The % character must be followed by two hexademical digits\".This only happens, if the %xxCode is at theat the end of the URL. It works fine for URLs ending with normal characters.Example:RequestUtil.URLDecode(\"http://localhost:8080/webdav/test%C3%A4\", \"UTF8\") failsRequestUtil.URLDecode(\"http://localhost:8080/webdav/test%C3%A4n\", \"UTF8\") works fineThe problem is with the the test in line 329 (added in revision: 905073):if (ix + 2 = len) {Because the index ix is already incremented in line 325, after reading the current byte b (e.g.", "EB": "", "SR": " When calling org.apache.catalina.util.RequestUtil.URLDecode() for a valid URL ending with a %xxCode, the method throws the IllegalArgumentException \"The % character must be followed by two hexademical digits\".This only happens, if the %xxCode is at theat the end of the URL."}
{"id": "42750", "title": "Bug 42750Http Post requests not handled correctly if there is more than one space between the \"POST\" and the URL", "description": " ), and JVM 1.4.213).", "OB": " Bug 42750Http Post requests not handled correctly if there is more than one space between the \"POST\" and the URL When a Tomcat based Http listener receives a Soap request with more than onespace between the \"POST\" command and the URL, this error response is returnedby Tomcat version 5.5.20, and there is no response at all from other versions(4.0.2 and 5.0):HTTP/1.1 505 HTTP Version Not SupportedServer: ApacheCoyote/1.1Date: Fri, 08 Jun 2007 22:19:07 GMTConnection: closeHere is what I mean about there being more than one space between the Post andthe URL.In the examples below I leave out the body of the Soap request forsimplification.I used the TCPMonitor supplied by the Apache project tocapture a Soap request and here is how it is displayed in the monitor (itprobably looks completely different on the wire):POSThttp://C010030S:5599/NXAServer/NextAxiomServer HTTP/1.0UserAgent: Natural 4.2ContentType: text/xml; charset=utf8SOAPAction: urn:rpc?path=Training.webMethods.validateUseridContentLength: 338Note the four spaces between the \"POST\" and the URL in the first line.Nowhere is what the request looks like after removing three of the four spaces:POST http://C010030S:5599/NXAServer/NextAxiomServer HTTP/1.0UserAgent: Natural 4.2ContentType: text/xml; charset=utf8SOAPAction: urn:rpc?path=Training.webMethods.validateUseridContentLength: 338The request seems to only get handled correctly by the Tomcat HTTP listenerwhen there is one space between the \"Post\" and the URL.This example is from a Soap request issued by a Natural program running on aZ/OS mainframe.Instead of sending you a complete example to recreate theproblem (which would require a mainframe) it would probably be easy to use theApache TCP Monitor to capture a Soap request from an available test system andthen add one of more spaces between the Post and the URL, resend the requestin the monitor and see what happens.What I'm trying to do is invoke from Natural on a mainframe (whichunfortunately we have no control over) a web service running on webMethods(IntegrationServer version 6.1 which uses Tomcat402B.jar, so that may beversion 4.0.2B (? No response is returned at all fromthat version.I then tried to do the same thing with webMethods version 6.5(which uses Tomcat 5.0 and JVM 1.4.207) and still got no response.Then Itried NextAxiom version 6.5.2.0 (which uses Tomcat version 5.5.20) and I atleast got a response from it (see the response at the top of thisdescription).I then tried invoking web services that use other Httplisteners and found the two I tried handled the Soap request just fine.Oneexample is IBM HTTP Server (version 1.3.8) that is running on a WebSphereserver; it handles the request with more than one space just fine (by \"fine\" Imean it recognized the URL and handed it off to the process at that URL).Theother I don't know much about; it was just some remote web service I found onthe web (http://www.webserviceX.NET).I have looked through the Apache Tomcat website, documentation and anassociate looked through the bug database for version 5, and we can't findanything that addresses this problem.I downloaded the source code, but gotlost looking around and decided to ask for some help to find and fix thisproblem.Or maybe someone has an idea on how to configure the Http listenerto handle this better.If this is a bug, I would be more than happy to attempt to fix this myself ifsomeone could point me in the right direction.Thank you very very much for your time and efforts.Dick SalisburyIdaho Power Companydsalisbury@idahopower.com", "EB": "", "SR": ""}
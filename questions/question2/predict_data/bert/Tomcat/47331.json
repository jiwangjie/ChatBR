{"id": "47331", "title": "Bug 47331No translation error messag when using {...} in template text", "description": " Bug 47331No translation error messag when using {...} in template text JSP.2.2 requires a translation error when an {...} EL expression is used in templated text. (See also the Section 1.2.4 of \"JavaServer Pages 2.1 ExpressionLanguage Specification\". ... </body</html</f:view</jsp:root [/snip] With Tomcat 6.0.18 I get: [snip] <?xml version=\"1.0\" encoding=\"UTF8\"?<!DOCTYPE html PUBLIC \"//W3C//DTD XHTML 1.0 Transitional//EN\"\"http://www.w3.org/TR/xhtml1/DTD/xhtml1transitional.dtd\"<html xmlns=\"http://www.w3.org/1999/xhtml\"<head<! ... <link rel=\"stylesheet\"href=\"/mywebapp/resources/theme/current/css/screen.css\"type=\"text/css\" /<link rel=\"shortcut icon\"href=\"/mywebapp/resources/theme/current/img/favicon.ico\"type=\"image/xicon\"/</head<! ... </html. [/snip] Instead with Tomcat 6.0.20: [snip] <?xml version=\"1.0\" encoding=\"UTF8\"?<!DOCTYPE html PUBLIC \"//W3C//DTD XHTML 1.0 Transitional//EN\"\"http://www.w3.org/TR/xhtml1/DTD/xhtml1transitional.dtd\"<html xmlns=\"http://www.w3.org/1999/xhtml\"<head<! ... <link rel=\"stylesheet\"href=\"{facesContext.externalContext.requestContextPath}/resources/theme/current/css/screen.css\"type=\"text/css\" /<link rel=\"shortcut icon\"href=\"{facesContext.externalContext.requestContextPath}/resources/theme/current/img/favicon.ico\"type=\"image/xicon\"/</head<! ... </html.", "OB": " )Tomcat 6.0.18 erronously parse the expression.Tomcat 6.0.20 rightly does not but it also does not issue any error like the JSP specs requires.An example might clarify. [/snip] But neither an error nor a warning message appear in the log.For a discussion about this see the following post on the tomcatuser ML:http://mailarchives.apache.org/modmbox/tomcatusers/200906.mbox/%3ca764c6280906070128j2bfdc49fvf6a0fb31d3165cc1@mail.gmail.com%3eand the subsequent replies.", "EB": "", "SR": " Given the following JSP snip: [snip] <?xml version=\"1.0\" encoding=\"UTF8\"?<jsp:root version=\"2.1\"xmlns:jsp=\"http://java.sun.com/JSP/Page\"xmlns:c=\"http://java.sun.com/jsp/jstl/core\"xmlns:f=\"http://java.sun.com/jsf/core\"xmlns:h=\"http://java.sun.com/jsf/html\"<jsp:directive.page contentType=\"text/html;charset=UTF8\" pageEncoding=\"UTF8\"/<jsp:output omitxmldeclaration=\"no\"doctyperootelement=\"html\"doctypepublic=\"//W3C//DTD XHTML 1.0 Transitional//EN\" doctypesystem=\"http://www.w3.org/TR/xhtml1/DTD/xhtml1transitional.dtd\"/<f:view<html xmlns=\"http://www.w3.org/1999/xhtml\"<head<link rel=\"stylesheet\" href=\"{facesContext.externalContext.requestContextPath}/resources/theme/current/css/screen.css\" type=\"text/css\" /<link rel=\"shortcut icon\" href=\"{facesContext.externalContext.requestContextPath}/resources/theme/current/img/favicon.ico\" type=\"image/xicon\"/</head<body<!"}
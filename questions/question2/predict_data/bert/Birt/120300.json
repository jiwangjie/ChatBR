{"id": "120300", "title": "Bug 120300Parameter which drop from library explorer to layout cannot be used", "description": "", "OB": " Bug 120300Parameter which drop from library explorer to layout cannot be used Details:Parameter in library explorer can not drop to layoutStep:1.New a library and new a parameter named \"p1\"2.Open a report design and include a library3.Drop the p1 from library explorer to layout and previewActual result:An error message pop up.Error0 : Error.ScriptEvaluationError ( 1 time(s) )detail : org.eclipse.birt.report.engine.api.EngineException: There are errors evaluating script \"params[\"P1\"]\".at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:424)at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:386)at org.eclipse.birt.report.engine.data.dte.DteDataEngine.evaluate(DteDataEngine.java:321)at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:441)at org.eclipse.birt.report.engine.executor.DataItemExecutor.execute(DataItemExecutor.java:86)at org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitDataItem(ReportExecutorVisitor.java:157)at org.eclipse.birt.report.engine.ir.DataItemDesign.accept(DataItemDesign.java:68)at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:161)at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:199)at org.eclipse.birt.report.viewer.aggregation.layout.EngineFragment.doService(Unknown Source)at org.eclipse.birt.report.viewer.aggregation.BaseFragment.service(Unknown Source)at org.eclipse.birt.report.viewer.servlet.ViewerServlet.doGet(Unknown Source)at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:339)at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)at org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)at org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2422)at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)at org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:171)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)at org.eclipse.tomcat.internal.EclipseErrorReportValve.invoke(EclipseErrorReportValve.java:153)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)at org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:199)at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:828)at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:700)at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:584)at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)at java.lang.Thread.run(Thread.java:595)Caused by: org.mozilla.javascript.JavaScriptException: P1 not foundat org.eclipse.birt.core.script.NativeJavaMap.get(NativeJavaMap.java:68)at org.mozilla.javascript.ScriptableObject.getProperty(ScriptableObject.java:1263)at org.mozilla.javascript.ScriptRuntime.getObjectElem(ScriptRuntime.java:1301)at org.mozilla.javascript.ScriptRuntime.getObjectElem(ScriptRuntime.java:1283)at org.mozilla.javascript.gen.c26.c0(:1)at org.mozilla.javascript.gen.c26.call()at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:304)at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:2769)at org.mozilla.javascript.gen.c26.call()at org.mozilla.javascript.gen.c26.exec()at org.eclipse.birt.core.script.ScriptContext.eval(ScriptContext.java:231)at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:417)... 45 more", "EB": "", "SR": " Details:Parameter in library explorer can not drop to layoutStep:1.New a library and new a parameter named \"p1\"2.Open a report design and include a library3.Drop the p1 from library explorer to layout and previewActual result:An error message pop up.Error0 : Error.ScriptEvaluationError ( 1 time(s) )detail : org.eclipse.birt.report.engine.api.EngineException: There are errors evaluating script \"params[\"P1\"]\".at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:424)at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:386)at org.eclipse.birt.report.engine.data.dte.DteDataEngine.evaluate(DteDataEngine.java:321)at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:441)at org.eclipse.birt.report.engine.executor.DataItemExecutor.execute(DataItemExecutor.java:86)at org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitDataItem(ReportExecutorVisitor.java:157)at org.eclipse.birt.report.engine.ir.DataItemDesign.accept(DataItemDesign.java:68)at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:161)at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:199)at org.eclipse.birt.report.viewer.aggregation.layout.EngineFragment.doService(Unknown Source)at org.eclipse.birt.report.viewer.aggregation.BaseFragment.service(Unknown Source)at org.eclipse.birt.report.viewer.servlet.ViewerServlet.doGet(Unknown Source)at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:339)at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)at org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)at org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2422)at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)at org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:171)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)at org.eclipse.tomcat.internal.EclipseErrorReportValve.invoke(EclipseErrorReportValve.java:153)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174)at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)at org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:199)at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:828)at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:700)at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:584)at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)at java.lang.Thread.run(Thread.java:595)Caused by: org.mozilla.javascript.JavaScriptException: P1 not foundat org.eclipse.birt.core.script.NativeJavaMap.get(NativeJavaMap.java:68)at org.mozilla.javascript.ScriptableObject.getProperty(ScriptableObject.java:1263)at org.mozilla.javascript.ScriptRuntime.getObjectElem(ScriptRuntime.java:1301)at org.mozilla.javascript.ScriptRuntime.getObjectElem(ScriptRuntime.java:1283)at org.mozilla.javascript.gen.c26.c0(:1)at org.mozilla.javascript.gen.c26.call()at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:304)at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:2769)at org.mozilla.javascript.gen.c26.call()at org.mozilla.javascript.gen.c26.exec()at org.eclipse.birt.core.script.ScriptContext.eval(ScriptContext.java:231)at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:417)... 45 more"}
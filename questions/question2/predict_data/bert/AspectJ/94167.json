{"id": "94167", "title": "Bug 94167NPE in reflect implementation", "description": " Bug 94167NPE in reflect implementation Proposed fix (I'd like input on how to best add test cases for this so I cansubmit a tested patch); I believe this will work because if you uncomment theworkaround line, it works):Change line 63 from:method = declaringType.getDeclaredMethod(getName(),getParameterTypes());tomethod = getDeclaringType().getDeclaredMethod(getName(),getParameterTypes());Test source:package reflect;import org.aspectj.lang. ;import org.aspectj.lang.reflect. ;import java.lang.reflect. ;aspect Test {before() : call( (..)) && !within(Test) {MethodSignature sig = (MethodSignature)thisJoinPoint.getSignature();//sig.getDeclaringType(); // uncomment to workaroundMethod method = sig.getMethod();}}public class MinimalErr {public static void main(String args[]) {try {Inner.foo();} catch (Throwable t) {t.printStackTrace();}}public static class Inner {public static void foo() {}}}", "OB": "", "EB": "", "SR": ""}
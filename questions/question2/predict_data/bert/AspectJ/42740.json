{"id": "42740", "title": "Bug 42740declare error fails on pointcuts composed from multiple classes", "description": " Bug 42740declare error fails on pointcuts composed from multiple classes This error occurs in both 1.1.0 and in the head of CVS as of 9/8/03. It may berelated to 42739, but they may be distinct problems.Sample source:/Created on Sep 8, 2003Copyright (c) 2003 New Aspects of Security. All Rights Reserved. /aspect Library {public pointcut executionsThrowingChecked() :execution( (..) throws (Exception+ && !RuntimeException));}public aspect SampleExceptionHandling {public pointcut scope() : within(org.atrack.model..);public pointcut executionsThrowingChecked() :Library.executionsThrowingChecked() && scope();declare error : executionsThrowingChecked():\"no checked exceptions\";}sample compile:C:\\eclipse\\workspace\\atrackajc src\\SampleExceptionHandling.javajava.lang.Exception: Stack traceat java.lang.Thread.dumpStack(Thread.java:1071)at org.aspectj.weaver.patterns.ReferencePointcut.concretize1(ReferencePointcut.java:215)at org.aspectj.weaver.patterns.AndPointcut.concretize1(AndPointcut.java:88)at org.aspectj.weaver.patterns.ReferencePointcut.concretize1(ReferencePointcut.java:272)at org.aspectj.weaver.patterns.AndPointcut.concretize1(AndPointcut.java:88)at org.aspectj.weaver.patterns.ReferencePointcut.concretize1(ReferencePointcut.java:272)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:127)at org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:120)at org.aspectj.weaver.Checker.concretize(Checker.java:37)at org.aspectj.weaver.CrosscuttingMembers.addShadowMunger(CrosscuttingMembers.java:78)at org.aspectj.weaver.CrosscuttingMembers.addDeclare(CrosscuttingMembers.java:102)at org.aspectj.weaver.CrosscuttingMembers.addDeclares(CrosscuttingMembers.java:92)at org.aspectj.weaver.ResolvedTypeX.collectCrosscuttingMembers(ResolvedTypeX.java:332)at org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(CrosscuttingMembersSet.java:50)atorg.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerClause(AspectDeclaration.java:754)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAndPerClause(AjLookupEnvironment.java:124)atorg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:91)at org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:310)at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:324)atorg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:373)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:125)at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:70)at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:99)at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)at org.aspectj.tools.ajc.Main.run(Main.java:217)at org.aspectj.tools.ajc.Main.runMain(Main.java:155)at org.aspectj.tools.ajc.Main.main(Main.java:72)C:\\eclipse\\workspace\\atrack\\src\\SampleExceptionHandling.java:15 circularpointcut declaration involving: executionsThrowingChecked()1 error", "OB": " Thecompiler crash output from the CVS head version is at the end.", "EB": "", "SR": ""}
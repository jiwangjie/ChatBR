{"id": "20513", "title": "Bug 20513Combo control in view toolbar does not refresh view properly", "description": " This region happens to correspond to the size of the Combo dropdown list. The logic in ViewForm.layout(boolean) attempts to calculatethe size of the container (center toolbar) and then calls setBounds() on thetoolbar to update its position and size. Eventually, OS.SetWindowPos() iscalled for the combo control and the following messages were received byDisplay.widowProc():WMWINDOWPOSCHANGINGWMNCCALCSIZEWMNCPAINTWMERASEBKGNDWMWINDOWPOSCHANGEDWMSIZEWMPAINTI will attach a ZIP file with a simple plugin that demonstrates the problem.The steps required to show the problem are:1.", "OB": " Bug 20513Combo control in view toolbar does not refresh view properly Eclipse build: F1, F2 and F3Platform: Windows 2000 (professional)If an SWT Combo widget is added as a contribution to a view's toolbar, updatingthe associated toolbar manager leaves an unpainted background region displayedin the view. It appears that the view's content control is not being refreshed.This problem did not occur in the M5 (or any earlier) drop but is present inbuilds F1, F2 and F3.I tracked down the Windows messages being sent to the control when the toolbarmanager is updated. The values in the combobox are used to determine how often the combo isactually visible. Thus, setting the value to every third time means that theview can be activated twice without having the combo visible but on the thirdactivation, the combo appears.Ensure the view is wide enough so that the combo will be located between thelabel and the close button, otherwise, when it appears, it will resize the viewcontents and cause a repaint of those contents to occur.", "EB": "", "SR": " Eclipse build: F1, F2 and F3Platform: Windows 2000 (professional)If an SWT Combo widget is added as a contribution to a view's toolbar, updatingthe associated toolbar manager leaves an unpainted background region displayedin the view. WindowShow ViewOther \u20262. In the \"Other\" category, select the view \"Test Combo View\" and open it.3. Move the view to the right side of the workbench window (beside the tasksview) and alternate activating the Tasks view and the combo view.4."}
{"id": "17020", "title": "Bug 17020Refactor move class not updating imports", "description": " Bug 17020Refactor move class not updating imports ;import org.eclipse.swt.widgets.", "OB": " ;public class A {B b;} end A.javastart B.java package test.package1;public class B {} end B.java 5) In the packages view, drag and drop B.java into package \"test.package2\".6) When it prompts you, choose \"Preview\" to preview the changes7) Note in the preview dialog, it shows \"A.java\" in the list, but the comparepanes at the bottom don't show any changes8) Click finish.There is now a compile error in A.java.It failed to update the imports when Bwas moved.Some very subtle changes will make this test case no longer work.For example, if you remove the SWT imports, it correctly refactors the code.", "EB": "", "SR": " Build 20020521 (Freeze 1)This is the strangest error.Follow these steps very closely to reproduce.Package names must be exactly the same...1) Create a java project2) Add the swt.jar to the project build path3) Create two packages, \"test.package1\" and \"test.package2\".4) In \"test.package1\", define two classes: start A.java package test.package1;import org.eclipse.swt.SWT;import org.eclipse.swt.events.PaintEvent;import org.eclipse.swt.events.PaintListener;import org.eclipse.swt.graphics. ;public class A {B b;} end A.javastart B.java package test.package1;public class B {} end B.java 5) In the packages view, drag and drop B.java into package \"test.package2\".6) When it prompts you, choose \"Preview\" to preview the changes7) Note in the preview dialog, it shows \"A.java\" in the list, but the comparepanes at the bottom don't show any changes8) Click finish.There is now a compile error in A.java.It failed to update the imports when Bwas moved.Some very subtle changes will make this test case no longer work.For example, if you remove the SWT imports, it correctly refactors the code."}
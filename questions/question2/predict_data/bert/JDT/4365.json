{"id": "4365", "title": "Bug 4365Deadlock on save", "description": " Bug 4365Deadlock on save D:\\devel\\sdk203.\\jre\\bin\\java verify cp startup.jar org.eclipse.core.launcher.UIMain application org.eclipse.ui.workbench ws win32 platform d:\\workspaces\\eclipsesh1\\pluginsFull thread dump Classic VM (J2RE 1.3.0 IBM build cn13020010502, native threads):\"org.eclipse.jface.text.reconciler.MonoReconciler\" (TID:0x2c8bee8, systhreadt:0x13d10ab0, state:CW, native ID:0x424) prio=1at java.lang.Object.wait(Native Method)at java.lang.Object.wait(Object.java:421)at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:138)at org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:18)at org.eclipse.swt.widgets.Display.syncExec(Display.java:1572)at org.eclipse.jdt.ui.JavaElementContentProvider.postRunnable(JavaElementContentProvider.java:277)at org.eclipse.jdt.ui.JavaElementContentProvider.postRefresh(JavaElementContentProvider.java:242)at org.eclipse.jdt.ui.JavaElementContentProvider.processDelta(JavaElementContentProvider.java:143)at org.eclipse.jdt.ui.JavaElementContentProvider.elementChanged(JavaElementContentProvider.java:82)at org.eclipse.jdt.internal.core.JavaModelManager.fire(JavaModelManager.java:255)at org.eclipse.jdt.internal.core.WorkingCopy.reconcile(WorkingCopy.java:250)at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:39)at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:51)at org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:66)at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:153)\"HelpServer\" (TID:0x1fb7320, systhreadt:0x13b5c698, state:R, native ID:0x674) prio=5at java.net.PlainSocketImpl.socketAccept(Native Method)at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:430)at java.net.ServerSocket.implAccept(ServerSocket.java:255)at java.net.ServerSocket.accept(ServerSocket.java:234)at org.eclipse.help.internal.server.HelpServer.run(HelpServer.java:127)\"Java indexing: org.eclipse.jdt.internal.core.search.indexing.IndexManager\"(TID:0x8e6ad0, systhreadt:0x123ca2a0, state:CW, native ID:0x6c8) prio=5at java.lang.Thread.sleep(Native Method)at org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java(Compiled Code))at java.lang.Thread.run(Thread.java:498)\"Finalizer\" (TID:0x8e8708, systhreadt:0x86b710, state:CW, native ID:0x4c0) prio=8at java.lang.Object.wait(Native Method)at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java(Compiled Code))at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java(Compiled Code))at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java(Compiled Code))\"Reference Handler\" (TID:0x8e8750, systhreadt:0x839cc0, state:CW, native ID:0x668) prio=10at java.lang.Object.wait(Native Method)at java.lang.Object.wait(Object.java:421)at java.lang.ref.Reference$ReferenceHandler.run(Reference.java(CompiledCode))\"Signal dispatcher\" (TID:0x8e8798, systhreadt:0x835310, state:R, native ID:0x5dc) prio=5\"main\" (TID:0x8e87e0, systhreadt:0x2355d8, state:CW, native ID:0x58c) prio=5at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSave(CompilationUnitEditor.java:252)at org.eclipse.ui.internal.EditorManager$9.run(EditorManager.java:776)at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:296)at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:249)at org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:335)at org.eclipse.ui.internal.EditorManager.runProgressMonitorOperation(EditorManager.java:634)at org.eclipse.ui.internal.EditorManager.saveEditor(EditorManager.java:781)at org.eclipse.ui.internal.WorkbenchPage.saveEditor(WorkbenchPage.java:1173)at org.eclipse.ui.internal.SaveAction.run(SaveAction.java:31)at org.eclipse.jface.action.Action.runWithEvent(Action.java:451)at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:407)at org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:361)at org.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:352)at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:47)at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:645)at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1359)at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1160)at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:675)at org.eclipse.ui.internal.Workbench.run(Workbench.java:658)at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:820)at org.eclipse.core.boot.BootLoader.run(BootLoader.java:285)at java.lang.reflect.Method.invoke(Native Method)at org.eclipse.core.launcher.Main.basicRun(Main.java:151)at org.eclipse.core.launcher.Main.run(Main.java:502)at org.eclipse.core.launcher.UIMain.main(UIMain.java:52)Monitor pool info:Initial monitor count: 32Minimum number of free monitors before expansion: 5Pool will next be expanded by: 16Current total number of monitors: 32Current number of free monitors: 9Monitor Pool Dump (inflated objectmonitors):sysmont:0x00234ec0 inflmont: 0x00234ab0:java.lang.ref.Reference$Lock@8F1738/8F1740: <unownedWaiting to be notified:\"Reference Handler\" (0x839cc0)sysmont:0x00234f10 inflmont: 0x00234af0:java.lang.ref.ReferenceQueue$Lock@8F4350/8F4358: <unownedWaiting to be notified:\"Finalizer\" (0x86b710)sysmont:0x002351e8 inflmont: 0x00000000:org.eclipse.jdt.internal.core.WorkingCopy@2DAF488/2DAF490: <unownedWaiting to be notified:\"main\" (0x2355d8)sysmont:0x00235210 inflmont: 0x00234d50:org.eclipse.swt.widgets.RunnableLock@43C6310/43C6318: <unownedWaiting to be notified:\"org.eclipse.jface.text.reconciler.MonoReconciler\" (0x13d10ab0)JVM System Monitor Dump (registered monitors):ACS Heap lock: <unownedSystem Heap lock: <unownedSleep lock: <unownedWaiting to be notified:\"Java indexing: org.eclipse.jdt.internal.core.search.indexing.IndexManager\" (0x123ca2a0)Method trace lock: <unownedUTF8 Cache lock: <unownedHeap lock: <unownedRewrite Code lock: <unownedMonitor Cache lock: owner \"Signal dispatcher\" (0x835310) 1 entryJNI Pinning lock: <unownedJNI Global Reference lock: <unownedClassloader lock: <unownedLinking class lock: <unownedBinclass lock: <unownedMonitor Registry lock: owner \"Signal dispatcher\" (0x835310) 1 entryThread queue lock: owner \"Signal dispatcher\" (0x835310) 1 entryThread identifiers (as used in flat monitors):ident 13 \"org.eclipse.jface.text.reconciler.MonoReconciler\" (0x13d10ab0) ee0x13d108e0ident 7 \"HelpServer\" (0x13b5c698) ee 0x13b5c4c8ident 6 \"Java indexing: org.eclipse.jdt.internal.core.search.indexing.IndexManager\" (0x123ca2a0) ee 0x123ca0d0ident 5 \"Finalizer\" (0x86b710) ee 0x0086b540ident 4 \"Reference Handler\" (0x839cc0) ee 0x00839af0ident 3 \"Signal dispatcher\" (0x835310) ee 0x00835140ident 2 \"main\" (0x2355d8) ee 0x00235408Java Object Monitor Dump (flat & inflated objectmonitors):java.lang.ref.Reference$Lock@8F1738/8F1740locknflags 80000200 Monitor inflated inflmon 0x00234ab0java.lang.ref.ReferenceQueue$Lock@8F4350/8F4358locknflags 80000400 Monitor inflated inflmon 0x00234af0java.net.PlainSocketImpl@1142FB8/1142FC0locknflags 00070000 Flat locked by threadIdent 7. Entrycount 1org.eclipse.jdt.internal.core.WorkingCopy@2DAF488/2DAF490locknflags 00130000 Flat locked by threadIdent 13. Entrycount 1Writing java dump to D:\\devel\\sdk203/javacore764.1002803130.txt...OK", "OB": "", "EB": "", "SR": ""}
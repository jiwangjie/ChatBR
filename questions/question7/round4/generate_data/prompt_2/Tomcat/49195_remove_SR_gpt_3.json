{"id": "49195", "title": "Using shutdown port 1 with Windows service works, but prints error message", "description": "When specifying `<Server port=\"1\">` in the server.xml file, there is an issue with how Tomcat shuts down. The catalina.20100427.log file shows the following error message: \n\n`27.04.2010 17:49:13 org.apache.catalina.startup.Catalina stopServer SEVERE: No shutdown port configured. Server not shut down.`\n\nHowever, despite the error message, Tomcat does actually stop. It seems that when the service launcher stops Tomcat, Catalina server is not null. The current implementation uses `System.exit(1)` after printing the error message, which results in Tomcat shutdown.\n\nIt is worth noting that this behavior is not specific to running Tomcat as a Windows service. It may also occur when using jsvc, although this has not been tested.", "OB": "When using shutdown port 1, the catalina.20100427.log file shows the error message `No shutdown port configured. Server not shut down.`. However, Tomcat stops successfully regardless of this error message.", "EB": "It would be better to modify the implementation by using `wait(10000)` instead of `sleep(10000)` in the `StandardServer.await()` method. This would allow the thread to be woken up by a `notifyAll()` call or by using the `interrupt()` method if the thread is known.", "SR": ""}
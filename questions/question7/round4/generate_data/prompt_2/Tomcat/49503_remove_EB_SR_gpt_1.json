{"id": "49503", "title": "Bug 49503: Connectors do not bind to their ports in Catalina.load()", "description": "Bug 49503: Connectors do not bind to their ports in Catalina.load()\n\nTesting with trunk at revision 957942, thus this supposedly affects 7.0.0 as well. In TC6 there is a separate prestartup phase when starting Tomcat, to allow Connectors to bind to their ports before other parts of Tomcat are started. IIRC, it is implemented by having separate Bootstrap.load(String[]) and Bootstrap.start() methods [1]. Essentially, it breaks the fix for BZ 48625.\n\nTo reproduce:\n1. The first instance starts successfully. [2]\n\n[1] http://commons.apache.org/daemon/jsvc.html\n[2] Downgrading user: When running with jsvc it will mean that Tomcat would not be able to bind to privileged ports (80). I do not use jsvc, but I observe this issue when testing the fix for bug 49030 + bug 48625 that I applied in r957960. The second instance fails, as expected, but not in the expected way.\n\nObserved Behavior (OB):\n- The second instance fails to start as the connector does not attempt to bind to the port.\n- The startup sequence continues and then fails in Server.await().", "OB": "The second instance fails to start as the connector does not attempt to bind to the port. The startup sequence continues and then fails in Server.await().", "EB": "", "SR": ""}
{"id": "49195", "title": "Using 1 as shutdown port with Windows service works, but prints error message", "description": "Specify <Server port=\"1\" in server.xml3. That can be used to differentiate the two use cases. There could be improvements on how to stop Tomcat. System.exit(0) would work regardless of all that. I suppose that jsvc may show the same behavior, but I have not tried.", "OB": "When running Tomcat with the shutdown port set to 1 and using it as a Windows service, the following error message is printed in the catalina.20100427.log file:\n\n27.04.2010 17:49:13 org.apache.catalina.startup.Catalina stopServer\nSEVERE: No shutdown port configured. Server not shut down.\n\nDespite this error message, Tomcat actually stops successfully. After printing the error message, the method Catalina.stopServer() invokes System.exit(1) to shut down Tomcat. It seems that when the service launcher stops Tomcat, Catalina.server is not null.", "EB": "If this is the expected behavior, it would be better to use wait(10000) instead of sleep(10000) in StandardServer.await(), so that it can be woken up by a notifyAll() call or by using the interrupt() method to wake up the thread if we have its reference.", "SR": "To reproduce the issue: \n1. Set the shutdown port in the server.xml file to 1.\n2. Run Tomcat as a Windows service.\n3. Check the catalina.20100427.log file for the printed error message."}
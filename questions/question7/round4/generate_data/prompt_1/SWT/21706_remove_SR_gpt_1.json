{"id": "21706", "title": "Bug 21706 - BidiUtil in win32 has Class.forName() usage", "description": "Bug 21706 - BidiUtil in win32 has Class.forName() usage.", "OB": "The problem occurs in the line of code 'static Callback callback = new Callback(BidiUtil.class, \"windowProc\", 4);'. The BidiUtil.class is using Class.forName() which can throw a NoClassDefFoundError. This error is not defined in the CLDC class libraries and causes a problem in the CLDC version of SWT. You would only encounter this problem if you use jxeLink or something similar as the compiler generates the call itself and assumes that NoClassDefFoundError is available, which means you won't receive a compiler error from the eclipse compiler or Sun's compiler.", "EB": "To resolve this issue, a private constructor should be added to the BidiUtil class. Since there are no nonstatic methods in this class, it is unnecessary for it to have a public constructor. Making the constructor private will prevent people from instantiating the class when it is not needed. This change will not increase the size because the compiler already provides a free public constructor. It simply changes the constructor from public to private.", "SR": "Steps to reproduce:\n1. Open the BidiUtil.java file.\n2. Locate the line of code 'static Callback callback = new Callback(BidiUtil.class, \"windowProc\", 4);'\n3. Compile the code using the CLDC class libraries.\n4. Observe the NoClassDefFoundError.\nExpected behavior: The code should compile without any errors related to NoClassDefFoundError."}
{"id": "38131", "title": "Bug 38131ajc needs -d option while correctly compiling classes from subpackage", "description": "Bug 38131ajc needs -d option. I am using 1.1rc1. This is a regression since rc1 and a deviation from javac. I am guessing this may have something to do with a change in the underlying Eclipse compiler.\n\nTo reproduce the issue:\n1. Create a class in a subpackage such as:\n   package subpackage;\n   public class Test {\n       public static void main(String[] args) {\n           System.out.println(\"Hello\");\n       }\n   }\n2. Compile the class using the following command:\n   ajc subpackage\\Test.java\n\nObserved behavior (OB): The test.class file is then put in the subpackage\\subpackage directory.\n\nRunning the java command results in the following error:\nException in thread \"main\" java.lang.NoClassDefFoundError: subpackage/Test\n\nExpected behavior (EB): Running either of the following commands should fix the problem:\najc -d . subpackage\\Test.java\njavac -d . subpackage\\Test.java\n\nSteps to reproduce (SR):\n1. Create the Test class in the subpackage as described above.\n2. Compile the class using the command: ajc subpackage\\Test.java\n3. Run the java command and observe the error.\n4. Compile the class using either of the following commands:\n   - ajc -d . subpackage\\Test.java\n   - javac -d . subpackage\\Test.java\n5. Run the java command again and verify that the error no longer occurs.", "OB": "The test.class file is then put in the subpackage\\subpackage directory.\n\nRunning the java command results in the following error:\nException in thread \"main\" java.lang.NoClassDefFoundError: subpackage/Test", "EB": "Running either of the following commands should fix the problem:\najc -d . subpackage\\Test.java\njavac -d . subpackage\\Test.java", "SR": "1. Create the Test class in the subpackage as described above.\n2. Compile the class using the command: ajc subpackage\\Test.java\n3. Run the java command and observe the error.\n4. Compile the class using either of the following commands:\n   - ajc -d . subpackage\\Test.java\n   - javac -d . subpackage\\Test.java\n5. Run the java command again and verify that the error no longer occurs."}
{"id": "49195", "title": "Using 1 as shutdown port with Windows service works, but prints error message", "description": "When specifying `<Server port=\"1\"` in `server.xml`, Tomcat functions correctly as a Windows service, but it prints the following error message in the `catalina.20100427.log`: \n\n```\n27.04.2010 17:49:13 org.apache.catalina.startup.Catalina stopServerSEVERE: No shutdown port configured. Server not shut down.\n``` \n\nThe message does not prevent Tomcat from stopping, as after printing the message, `Catalina.stopServer()` executes `System.exit(1)` which successfully shuts down Tomcat. It seems that when the service launcher stops Tomcat, `Catalina.server` is not null.", "OB": "When using 1 as the shutdown port with the Windows service, the `No shutdown port configured` error message is printed in the logs, but Tomcat stops successfully.", "EB": "To improve the behavior, it would be recommended to modify `StandardServer.await()` by replacing `sleep(10000)` with `wait(10000)`, so that the thread can be woken up by a `notifyAll()` call. Alternatively, the `interrupt()` method can be used to wake up the thread if its identity is known.", "SR": ""}
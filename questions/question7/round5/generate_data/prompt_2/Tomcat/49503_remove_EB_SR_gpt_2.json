{"id": "49503", "title": "Bug 49503 - Connectors do not bind to their ports in Catalina.load(), but only later in start()", "description": "Bug 49503 - Connectors do not bind to their ports in Catalina.load(), but only later in start(). This issue was tested with trunk at revision 957942, and is expected to also affect version 7.0.0 of Tomcat. In Tomcat version 6, there is a separate pre-startup phase that allows Connectors to bind to their ports before other parts of Tomcat are started. IIRC, this is implemented using separate methods Bootstrap.load(String[]) and Boot.start(). This issue breaks the fix for BZ 48625.\n\nTo reproduce:\n1. Start the first instance, which succeeds.\n2. Start the second instance, which fails in an unexpected way.\n3. Actual behaviour: The exception does not occur because the connector does not try to bind to the port. It only binds when the start() method is called. The startup sequence continues and then fails in Server.await().", "OB": "The second instance fails in an unexpected way.", "EB": "When starting the second instance, it is expected to fail with an exception because the connector does not bind to the port.", "SR": "To reproduce this issue:\n1. Start the first instance successfully.\n2. Attempt to start the second instance and observe that it fails without the expected exception being thrown.\n3. Observe that the connector does not attempt to bind to the port during startup, but only binds when the start() method is called.\n4. Notice that the startup sequence continues, but eventually fails in Server.await()."}
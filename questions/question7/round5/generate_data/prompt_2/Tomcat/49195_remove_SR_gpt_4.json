{"id": "49195", "title": "Bug 49195 - Error message is printed when using 1 as shutdown port with Windows service", "description": "Specify `<Server port=\"1\"` in `server.xml`. This can be used to differentiate the two use cases. There could be improvements on how to stop Tomcat. `System.exit(0)` would work regardless of all that. I suppose that `jsvc` may show the same behavior, but I have not tried.", "OB": "When using 1 as the shutdown port with the Windows service, an error message is printed in the `catalina.20100427.log`. The message is: 'No shutdown port configured. Server not shut down.' However, Tomcat still stops despite the error message. After printing the message, `Catalina.stopServer()` performs `System.exit(1)` which results in Tomcat shutdown. It seems that when the service launcher stops Tomcat, `Catalina.server` is not null.", "EB": "If that is the case, it would be better to use `wait(10000)` instead of `sleep(10000)` in `StandardServer.await()`, so that it could be woken up by a `notifyAll()` call, or use an `interrupt()` call to wake it up (if we know the thread).", "SR": ""}
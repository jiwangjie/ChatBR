{
  "id": "21706",
  "title": "Bug 21706 - BidiUtil in win32 has Class.forName() usage",
  "description": "Bug 21706 - BidiUtil in win32 has Class.forName() usage",
  "OB": "The issue at hand involves the use of Class.forName() in the code. Specifically, there is a line in org.eclipse.swt.internal.BidiUtil that uses static Callback callback = new Callback (BidiUtil.class, \"windowProc\", 4). This line of code is problematic as it relies on Class.forName(\"org...BidiUtil\"). The problem arises because the method throws a NoClassDefFoundError, which is not defined in the CLDC class libraries. This issue impacts the CLDC version of SWT. It's important to note that this problem may only become apparent when using tools like jxeLink or similar. The Eclipse compiler and Sun's compiler do not generate a compiler error for this, as they assume NoClassDefFoundError exists.",
  "EB": "The expected behavior is to refactor the code to eliminate the usage of Class.forName() and address the issue related to NoClassDefFoundError. This change should be made to ensure compatibility with the CLDC class libraries, and to prevent any potential issues or inconsistencies that may arise when using tools like jxeLink or other similar compilation tools. The code should be modified to remove the reliance on reflection and the use of NoClassDefFoundError, ensuring smooth operation and compatibility across different compilers and environments.",
  "SR": "To reproduce the issue, follow these steps:\n1. Use the codebase that contains the line 'static Callback callback = new Callback (BidiUtil.class, \"windowProc\", 4);' in the 'org.eclipse.swt.internal.BidiUtil' class.\n2. Attempt to compile or run the code in an environment that uses CLDC class libraries, such as when using jxeLink or similar tools.\n3. Observe the occurrence of a NoClassDefFoundError related to the usage of Class.forName(\"org...BidiUtil\"). This error should manifest when trying to execute the code in the specified environment."
}
{"id": "49503", "title": "Bug 49503: Connectors do not bind to their ports in Catalina.load(), but only later in start()", "description": "When running with jsvc, Tomcat is unable to bind to privileged ports (such as port 80) because Connectors do not bind to their ports in Catalina.load(), but only later in start(). This issue was observed when testing the fix for bug 49030 + bug 48625. The first instance starts successfully, but the second instance fails because the connector does not try to bind to the port. The startup sequence continues and then fails in Server.await().", "OB": "In Tomcat 6, there is a separate prestartup phase when starting Tomcat to allow Connectors to bind to their ports before other parts of Tomcat are started. This is implemented through separate Bootstrap.load(String[]) and Bootstart.start() methods [1]. Downgrading user experienced this issue when testing the fix for bug 49030 + bug 48625 applied in r957960.", "EB": "The connectors should immediately bind to their ports in Catalina.load() rather than waiting until start() is called. This will prevent exceptions and ensure that the connectors bind to the ports properly.", "SR": "To fix this issue, add the following line to conf/catalina.properties: org.apache.catalina.startup.EXITONINITFAILURE=true. Then, start two Tomcat instances with the same configuration at the same time."}
{"id": "49235", "title": "Bug 49235: ServletContainerInitializer onStartup(Set<Class<? classSet is not expect class", "description": "Bug 49235: ServletContainerInitializer onStartup(Set<Class<? classSet is not expect class. The output is \"MySomeClass\".", "OB": "When running the code on Tomcat 7.0.0, the output is \"MySomeAnn\" instead of the expected output \"MySomeClass\". The code works fine on Glassfish 3.0.", "EB": "The expected behavior is that, when running the code on Tomcat 7.0.0, the output should be \"MySomeClass\" instead of \"MySomeAnn\".", "SR": "To reproduce the issue, follow these steps: \n\n1. Build Tomcat 7.0.0 from SVN r939221. \n2. Use the below code: \n\n@MySomeAnn \npublic class MySomeClass{...} \n\n@HandlesTypes(MySomeAnn.class) \npublic class ModuleInitializer implements ServletContainerInitializer{ \n    @Override \n    public void onStartup(Set<Class<?>> classSet, ServletContext ctx) throws ServletException{ \n        for (Class<?> targetClass : classSet){ \n            System.out.println(targetClass.getName()); \n        } \n        ... \n    } \n} \n\n3. Observe that the output is \"MySomeAnn\" instead of \"MySomeClass\"."}
{"id": "38131", "title": "Bug 38131 - ajc needs -d option while correctly compiling classes from subpackage", "description": "Bug 38131 - ajc needs -d option. I am using 1.1rc1. This is a regression since rc1 and a deviation from javac. I am guessing this may have to do something with a change in the underlying Eclipse compiler.\n\nTo reproduce the issue:\n\n1. Create a class in a subpackage. For example:\n\n    package subpackage;\n\n    public class Test {\n        public static void main(String[] args) {\n            System.out.println(\"Hello\");\n        }\n    }\n\n2. Compile the class using the following command:\n\n    ajc -d subpackage subpackage\\Test.java\n\nExpected result:\n\nAfter compilation, the class file \"Test.class\" should be created in the subpackage directory under the current working directory.\n\nObserved result:\n\nThe subpackage directory is created under the existing subpackage directory, resulting in a directory structure like this: \"subpackage\\subpackage\".\n\nThis issue is not present when using javac.\n\nPlease add the -d option to ajc to ensure correct compilation of classes from subpackages.", "OB": "When compiling a class in a subpackage using \"ajc subpackage\\Test.java\", a directory named \"subpackage\" is created under the existing \"subpackage\" directory.", "EB": "After compiling a class in a subpackage using \"ajc -d subpackage subpackage\\Test.java\", a directory named \"subpackage\" should be created under the current working directory, and the class file \"Test.class\" should be placed inside that directory.", "SR": "1. Create a class in a subpackage.\n2. Compile the class using the command \"ajc -d subpackage subpackage\\Test.java\".\n3. Verify that a directory named \"subpackage\" is created under the current working directory, and the class file \"Test.class\" is placed inside that directory."}
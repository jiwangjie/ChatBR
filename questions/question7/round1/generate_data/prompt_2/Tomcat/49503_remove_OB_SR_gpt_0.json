{"id": "49503", "title": "Connectors do not bind to their ports in Catalina.load(), but only later in start()", "description": "When testing with trunk at revision 957942, it was observed that the connectors do not bind to their ports in the Catalina.load() method, but only later in the start() method. This issue supposedly affects version 7.0.0 as well. In Tomcat version 6, there is a separate prestartup phase that allows connectors to bind to their ports before other parts of Tomcat are started. This prestartup phase is implemented using separate Bootstrap.load(String[]) and Boot.start() methods [1]. This issue breaks the fix for BZ 48625. To reproduce the issue, follow these steps:\n\n1. Start the first instance successfully.", "OB": "The observed behavior is not mentioned in the bug report.", "EB": "We would expect that in the StandardService.initInternal() method, the connector.init() call fails because it cannot bind to the port. The exception from connector.init() is caught there and if the EXITONINITFAILURE flag is set, it is rethrown. This rethrown exception is then caught in Catalina.load() method and rethrown again as an Error, which aborts Tomcat startup.", "SR": "1. Start an instance of Tomcat.\n2. Observe if the connector is successfully binding to its port.\n3. Check if the connector.init() call fails or succeeds in the StandardService.initInternal() method.\n4. Verify if Tomcat startup is aborted due to the rethrown exception in Catalina.load() method."}
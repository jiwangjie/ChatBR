{"id": "49503", "title": "Bug 49503 - Connectors do not bind to their ports in Catalina.load(), but only later in start()", "description": "Bug 49503 - Connectors do not bind to their ports in Catalina.load(), but only later in start().\nTesting with trunk at revision 957942, thus this supposedly affects 7.0.0 as well.\nIn TC6 there is a separate prestartup phase when starting Tomcat, to allow Connectors to bind to their ports before other parts of Tomcat are started.\nIIRC, it is implemented by having separate Bootstrap.load(String[]) and Bootstart.start() methods [1]. Essentially, it breaks the fix for BZ 48625.\n\nTo reproduce:\n1. Start the first instance successfully.\n2. Run the application with jsvc.\n3. The second instance fails, as expected, but not in the expected way.\n4. Actual behaviour: The exception does not happen because the connector does not try to bind to the port. It will bind when start() is called. The startup sequence continues and then fails in Server.await().", "OB": "The connectors do not attempt to bind to their ports in the Catalina.load() method, but instead bind later in the start() method. This behavior is observed when running the application with jsvc.", "EB": "The connectors should attempt to bind to their ports in the Catalina.load() method rather than waiting until the start() method is called.", "SR": "To reproduce: \n1. Start the first instance of the application successfully. \n2. Run the application with jsvc and start a second instance. \n3. Observe that the second instance fails to bind to the port as expected but does not throw an exception. \n4. Notice that the connector only attempts to bind to the port when the start() method is called. \n5. Observe that the startup sequence continues and then fails in the Server.await() method."}
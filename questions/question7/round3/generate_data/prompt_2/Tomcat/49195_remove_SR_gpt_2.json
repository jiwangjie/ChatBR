{"id": "49195", "title": "Using 1 as shutdown port with Windows service works, but prints error message", "description": "When specifying <Server port=\"1\" in server.xml, it works to differentiate between use cases. However, there is an error message printed in the catalina.20100427.log file: \n\n27.04.2010 17:49:13 org.apache.catalina.startup.Catalina stopServer\nSEVERE: No shutdown port configured. Server not shut down.\n\nAlthough this message is displayed, Tomcat actually stops without any issues. After printing the message, Catalina stopServer() performs System.exit(1) which results in Tomcat shutdown. It appears that when the service launcher stops Tomcat, Catalina server is not null.", "OB": "The following is printed in the catalina.20100427.log:\n27.04.2010 17:49:13 org.apache.catalina.startup.Catalina stopServer\nSEVERE: No shutdown port configured. Server not shut down.\n\nIt is just a message. Tomcat stops regardless of it:After printing the message, Catalina stopServer() performs System.exit(1) which results in Tomcat shutdown.\n\nI think that when service launcher stops Tomcat, Catalina server is not null.", "EB": "If that is the case, it would be better to use wait(10000) instead of sleep(10000) in StandardServer.await(), so that it could be woken by a notifyAll() call, or use an interrupt() call to wake it up (if we know the thread).", "SR": ""}
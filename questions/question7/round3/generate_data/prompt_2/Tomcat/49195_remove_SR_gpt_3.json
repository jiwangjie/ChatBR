{"id": "49195", "title": "Using 1 as shutdown port with Windows service works, but prints error message", "description": "Specify <Server port=\"1\" in server.xml. That can be used to differentiate the two use cases. There could be improvements on how to stop Tomcat. System.exit(0) would work regardless of all that. I suppose that jsvc may show the same behaviour, but I have not tried.", "OB": "When using 1 as the shutdown port with a Windows service, Tomcat stops successfully but prints the following error message in the catalina.20100427.log:\n\n27.04.2010 17:49:13 org.apache.catalina.startup.Catalina stopServer\nSEVERE: No shutdown port configured. Server not shut down.\n\nDespite the error message, Tomcat actually stops after printing it. After printing the message, the Catalina stopServer() function calls System.exit(1) to shut down Tomcat. I noticed that when the service launcher stops Tomcat, the Catalina server instance is not null.", "EB": "If this is the expected behavior, it would be better to use wait(10000) instead of sleep(10000) in StandardServer.await() so that it can be woken up by a notifyAll() call, or use the interrupt() call to wake it up (if we know the thread).", "SR": ""}
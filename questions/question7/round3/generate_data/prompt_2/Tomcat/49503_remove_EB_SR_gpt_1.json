{"id": "49503", "title": "Bug 49503: Connectors do not bind to their ports in Catalina.load(), but only later in start()", "description": "Testing with trunk at revision 957942, thus this supposedly affects version 7.0.0 as well. In Tomcat 6, there is a separate prestartup phase when starting Tomcat to allow Connectors to bind to their ports before other parts of Tomcat are started. This is implemented by having separate Bootstrap.load(String[]) and Bootstart.start() methods [1]. However, in Tomcat 7, this behavior is different and it breaks the fix for BZ 48625. When running with jsvc, Tomcat is not able to bind to privileged ports (e.g., port 80). This issue was observed when testing the fix for bug 49030 + bug 48625 applied in r957960. The second instance fails, but not in the expected way. Instead of throwing an exception, the connector does not try to bind to the port until start() is called. The startup sequence continues and then fails in Server.await().", "OB": "When running Tomcat 7 with jsvc, the connector does not bind to its port during Catalina.load(), but only later in start().", "EB": "The connector should bind to its port during Catalina.load() to ensure successful startup.", "SR": "To reproduce: 1. Start the first instance of Tomcat. The instance should start successfully. 2. Start the second instance of Tomcat. The instance should not start successfully and an exception should be thrown when the connector tries to bind to the port during Catalina.load()."}
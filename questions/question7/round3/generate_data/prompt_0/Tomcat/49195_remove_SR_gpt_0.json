{"id": "49195", "title": "Bug 49195: Error message printed when using 1 as shutdown port with Windows service", "description": "Specify <Server port=\"1\" in server.xml. That can be used to differentiate the two use cases. There could be improvements on how to stop Tomcat. System.exit(0) would work regardless of all that. I suppose that jsvc may show the same behavior, but I have not tried.", "OB": "When using 1 as the shutdown port with a Windows service, Tomcat stops but prints the following error message in catalina.20100427.log: 'SEVERE: No shutdown port configured. Server not shut down.' This message is just informational and does not affect the shutdown process. After printing the message, Catalina stopServer() performs System.exit(1) to shut down Tomcat. It seems that when the service launcher stops Tomcat, Catalina server is not null.", "EB": "If possible, instead of using sleep(10000) in StandardServer.await(), it would be better to use wait(10000) or an interrupt() call to wake up the thread in case we need to stop it manually.", "SR": "To reproduce the issue:\n1. Configure the server.xml with <Server port=\"1\".\n2. Start the Tomcat Windows service.\n3. Check the catalina.20100427.log file for the 'SEVERE: No shutdown port configured. Server not shut down.' message."}
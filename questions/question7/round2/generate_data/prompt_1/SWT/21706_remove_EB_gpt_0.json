{"id": "21706", "title": "Bug 21706 - BidiUtil in win32 has Class.forName() usage", "description": "Bug 21706 - BidiUtil in win32 has Class.forName() usage", "OB": "The issue is with the usage of Class.forName() in the code. The line 'static Callback callback = new Callback (BidiUtil.class, 'windowProc', 4);' in org.eclipse.swt.internal.BidiUtil uses syntactic sugar to represent 'BidiUtil.class' as 'Class.forName('org.eclipse.swt.internal.BidiUtil')'. However, this leads to a problem where the method throws a NoClassDefFoundError, as it is not defined in the CLDC class libraries. This issue is specific to the CLDC version of SWT. It might not be noticed unless verified or used with jxeLink or similar tools. The Eclipse compiler and Sun's compiler do not throw a compile error for this issue.", "EB": "The usage of Class.forName() should be replaced with 'new BidiUtil().getClass()' in order to remove the reflection.", "SR": "To resolve this issue, change the line above to: static Callback callback = new Callback (new BidiUtil().getClass(), 'windowProc', 4); This change should provide the same functionality without relying on Class.forName()."}
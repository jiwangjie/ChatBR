{"id": "49503", "title": "Connectors do not bind to ports in Catalina.load() method", "description": "Testing with trunk at revision 957942, thus this bug supposedly affects version 7.0.0 as well. In Tomcat 6, there is a separate prestartup phase when starting Tomcat, which allows Connectors to bind to their ports before other parts of Tomcat are started. This is implemented by having separate Bootstrap.load(String[]) and Bootstart.start() methods. However, in the current implementation, the Connectors do not bind to their ports in Catalina.load(), but only later in start(). This behavior breaks the fix for BZ 48625. To reproduce this issue, follow the below steps:\n1. Start the first instance successfully.", "OB": "Currently, the bug report does not provide any information about the observed behavior.", "EB": "I would expect that in StandardService.initInternal() method, the connector.init() call fails because it cannot bind to the port. The exception from the connector.init() method should be caught there, and if the EXITONINITFAILURE flag is set, it should be rethrown. Then, it should be caught in Catalina.load() method and rethrown as an Error, which aborts Tomcat startup.", "SR": "1. Start Tomcat and observe whether the connector.init() call fails to bind to the port as expected, and if the EXITONINITFAILURE flag is set correctly. If not, ensure the flag is set correctly and retest. Provide any resulting error messages or stack trace."}
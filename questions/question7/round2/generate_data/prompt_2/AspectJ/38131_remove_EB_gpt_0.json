{"id": "38131", "title": "Bug 38131 - ajc needs -d . option while correctly compiling classes from subpackage", "description": "Bug 38131 - ajc needs -d . option while correctly compiling classes from subpackage.\n\nI am using version 1.1rc1 of the tool. This is a regression since rc1 and a deviation from javac. I suspect it may be related to a change in the underlying Eclipse compiler.\n\nTo reproduce the issue, create a class in a subpackage as follows:\n\npackage subpackage;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        System.out.println(\"Hello\");\n    }\n\n}\n\nThen compile the class using the following command: \n\najc subpackage\\Test.java\n\nYou will notice that a directory called \"subpackage\" is created inside the existing \"subpackage\" directory, and the Test.class file is placed in that directory.\n\nWhen trying to run the compiled class using the java command, the following exception occurs:\n\nException in thread \"main\" java.lang.NoClassDefFoundError: subpackage/Test\n\nHowever, running either of the following commands fixes the problem:\n\najc -d . subpackage\\Test.java\n\njavac subpackage\\Test.java\n\n", "OB": "After compiling the Test class with the ajc command, the Test.class file is placed in the subpackage\\subpackage directory.", "EB": "The compilation process should put the Test.class file directly in the subpackage directory.", "SR": "To reproduce the issue:\n\n1. Create a class in a subpackage.\n\n2. Compile the class using the command 'ajc subpackage\\Test.java'.\n\n3. Verify that the Test.class file is placed in the subpackage\\subpackage directory.\n\n4. Run the compiled class using the java command.\n\n5. Observe the 'NoClassDefFoundError' exception.\n\n6. Fix the problem by recompiling the class using either of the following commands:\n\n- 'ajc -d . subpackage\\Test.java'\n- 'javac subpackage\\Test.java'"}
{"id": "49503", "title": "Connectors do not bind to their ports in Catalina.load(), but only later in start()", "description": "When starting Tomcat, Connectors do not bind to their ports in the Catalina.load() method, but only later in the start() method. This issue was observed when testing the fix for bug 49030 + bug 48625. The expected behavior is that in the StandardService.initInternal() method, the connector.init() call should fail to bind to the port and throw an exception. If the EXITONINITFAILURE flag is set, the exception should be caught and rethrown, causing Tomcat startup to abort. However, currently, the connector does not try to bind to the port until the start() method is called, which leads to a failure in the Server.await() method.\n\nTo reproduce the issue:\n1. Start the first instance successfully.\n2. Start the second instance, which should fail.\n\nNote: This issue is believed to affect Tomcat 7.0.0 and later versions.", "OB": "When starting the second instance, the connector does not try to bind to the port in the Catalina.load() method. As a result, the exception from the connector.init() call does not occur.", "EB": "I would expect that in the StandardService.initInternal() method, the connector.init() call fails to bind to the port and throws an exception. This exception should be caught and rethrown in Catalina.load() if the EXITONINITFAILURE flag is set, resulting in Tomcat startup being aborted.", "SR": "1. Start the first instance successfully.\n2. Start the second instance.\n   - Observe that the connector does not try to bind to the port in the Catalina.load() method.\n   - Observe that the exception from the connector.init() call does not occur.\n   - Proceed with the startup sequence and observe that the failure happens in the Server.await() method."}
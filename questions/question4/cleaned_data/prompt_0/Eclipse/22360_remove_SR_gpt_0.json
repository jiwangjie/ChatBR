{"id": "22360", "title": "Bug 22360[Fonts] FontRegistry can not instantiated using resources outside org.eclipse.jface.resource", "description": "Bug 22360[Fonts] FontRegistry can not instantiated using resources outside org.eclipse.jface.resource. Therefore, all the resources that are being looked up are only relative to the location of the FontRegistry class org.eclipse.jface.resource path. It can be remedied if FontRegistry took a client class (or class loader) as an additional parameter to the constructor.", "OB": "When attempting to create a FontRegistry instance in my application, I encounter a MissingResourceException. The code that triggers this exception is as follows:\n\ncom.company.product.MyClass\npublic void createFontRegistry(){\n  FontRegistry fonts = new FontRegistry(\"com.company.product.fonts\");\n}\n\nI have confirmed that I have a file named \"fonts.properties\" in the \"com/company/product/\" folder. However, if I replace the code with:\n\ncom.company.product.MyClass\npublic void createFontRegistry(){\n  ResourceBundle fonts = ResourceBundle.getBundle(\"com.company.product.fonts\");\n}\n\nNo exception is thrown. Additionally, if I manually copy the FontRegistry class to my \"com.company.product\" package, the code works as expected. Based on my observations, it appears to be a bug in the FontRegistry class. It seems to be attempting to load the fonts resource bundle using its own class loader, leading to the issue (refer to the \"readResourceBundle(String)\" method in FontRegistry).", "EB": "Alternatively, the FontRegistry class could be modified to allow clients to load their own resource bundle by accepting it as a parameter in the constructor, instead of just the name of the bundle.", "SR": "To reproduce the issue, follow these steps:\n1. Create a FontRegistry instance using a resource bundle name that is located outside the org.eclipse.jface.resource path.\n2. Ensure that the resource bundle contains the necessary properties file.\n3. Note the occurrence of the MissingResourceException.\n\nAlternatively:\n1. Create a FontRegistry instance using a resource bundle name that is located outside the org.eclipse.jface.resource path.\n2. Confirm that the resource bundle contains the necessary properties file.\n3. Check that no exception is thrown when attempting to access the resource bundle using ResourceBundle.getBundle().\n\nTo validate the workaround:\n1. Copy the FontRegistry class into your package (e.g., com.company.product).\n2. Repeat the steps to create a FontRegistry instance.\n3. No exception should occur in this case."}
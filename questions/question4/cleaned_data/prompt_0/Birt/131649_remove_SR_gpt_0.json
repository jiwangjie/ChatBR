{"id": "131649", "title": "Bug 131649 - Designer generates wrong column reference expression for inner table", "description": "Bug 131649 - Designer generates wrong column reference expression for inner table. This design uses a 2-level table to list offices and their employees. It constructs an expression like this: row['FIRSTNAME'] + ' ' + row['LASTNAME'] + ' / ' + row['OFFICECODE']. However, this report does not run. When the user double clicks on 'COUNTRY', the correct behavior is to insert rows[0]['COUNTRY'] into the expression. The first index (0-based) to the 'rows' array represents the nested table containing the dataset (0 for the outermost table, 1 for the first level inner table, and so on).", "OB": "When the report designer adds the expression 'row['COUNTRY']' to append a country name suffix to each employee name (e.g., 'Diane Merphy / USA'), the problem arises. The expression 'row['OFFICECODE']' is not valid in the inner table. To access the outer table's columns, the inner table needs to use the 'rows' object.", "EB": "The report designer should determine the correct index number by considering the nesting levels of all tables.", "SR": "To reproduce:\n1. Create a report with a 2-level table listing offices and employees.\n2. Use the expression 'row['FIRSTNAME'] + ' ' + row['LASTNAME'] + ' / ' + row['OFFICECODE']'.\n3. Double click on 'COUNTRY'.\n4. Verify that the expression 'rows[0]['COUNTRY']' is inserted and the report runs successfully."}
{
  "id": "50550",
  "title": "Bug 50550 - PropFind 404 error after MkCol success",
  "description": "Bug 50550 - PropFind 404 error after MkCol success. This suggests it has to do with caching. Note: This situation sounds similar to call 21288 (FIXED - 'DirContext caching problem with Dreamweaver 6 when recursively creating directories'). Reproducible using a jackrabbit client:\n\n```java\nHttpClient client = new HttpClient();\nString newDir = \"http://localhost:8080/webdav/output/\" + UUID.randomUUID() + \"/\";\n// Comment out this request to make the second propfind successful\nHttpMethod propFindMethod1 = new PropFindMethod(newDir);\nclient.executeMethod(propFindMethod1);\npropFindMethod1.releaseConnection();\nHttpMethod mkcolMethod = new MkColMethod(newDir);\nclient.executeMethod(mkcolMethod);\nmkcolMethod.releaseConnection();\nHttpMethod propFindMethod = new PropFindMethod(newDir);\nclient.executeMethod(propFindMethod);\npropFindMethod.releaseConnection();\n```",
  "OB": "The order of HTTP requests matters. The `MkCol` should be preceded with a `PropFind` to trigger the issue.",
  "EB": "The `MkCol` should be preceded with a `PropFind` to trigger the issue. Steps to reproduce: See the following access log;\n\n1. `PROPFIND /webdav/output/f469e3d6e536407282dad989acaf57a2/ HTTP/1.1\" 404 1084`\n2. `MKCOL /webdav/output/f469e3d6e536407282dad989acaf57a2/ HTTP/1.1\" 201`\n3. `PROPFIND /webdav/output/f469e3d6e536407282dad989acaf57a2/ HTTP/1.1\" 404 1084`\n\nWhen the first request is omitted, the third request would have been successful, as the following access log shows;\n\n1. `MKCOL /webdav/output/81a97360ea4944d3b764d8c7e60e885e/ HTTP/1.1\" 201`\n2. `PROPFIND /webdav/output/81a97360ea4944d3b764d8c7e60e885e/ HTTP/1.1\" 207 628`\n\nNote: After a few seconds, the response to `PropFind` for that resource is OK again.",
  "SR": "A `PropFind` call on a resource returns a 404 error when executed after an `MkCol` for the same resource."
}

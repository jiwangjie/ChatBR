{
  "id": "50550",
  "title": "Bug 50550 - PropFind 404 error after MkCol success",
  "description": "Bug 50550 - PropFind 404 error after MkCol success. This suggests this has to do with caching. Note2: This situation sounds similar to call 21288 (FIXED - 'DirContext caching problem with Dreamweaver 6 when recursively creating directories'). Reproducible using a Jackrabbit client; HttpClient client = new HttpClient(); String newDir = 'http://localhost:8080/webdav/output/' + UUID.randomUUID() + '/'; // Comment out this request to make the second propfind successful HttpMethod propFindMethod1 = new PropFindMethod(newDir); client.executeMethod(propFindMethod1); propFindMethod1.releaseConnection(); HttpMethod mkcolMethod = new MkColMethod(newDir); client.executeMethod(mkcolMethod); mkcolMethod.releaseConnection(); HttpMethod propFindMethod = new PropFindMethod(newDir); client.executeMethod(propFindMethod); propFindMethod.releaseConnection();",
  "OB": "A propfind call on a resource returns a 404 error when executed after a mkcol for the same resource.",
  "EB": "The mkcol should be preceded with a propfind to trigger the issue. Steps to reproduce: See the following access log; 127.0.0.1[06/Jan/2011:14:09:19 +0100] 'PROPFIND /webdav/output/f469e3d6e536407282dad989acaf57a2/ HTTP/1.1' 404 1084 127.0.0.1[06/Jan/2011:14:09:19 +0100] 'MKCOL /webdav/output/f469e3d6e536407282dad989acaf57a2/ HTTP/1.1' 201 127.0.0.1[06/Jan/2011:14:09:19 +0100] 'PROPFIND /webdav/output/f469e3d6e536407282dad989acaf57a2/ HTTP/1.1' 404 1084 When the first request would be omitted, the third request would have been successful, as the following access log shows; 127.0.0.1[06/Jan/2011:14:10:39 +0100] 'MKCOL /webdav/output/81a97360ea4944d3b764d8c7e60e885e/ HTTP/1.1' 201 127.0.0.1[06/Jan/2011:14:10:39 +0100] 'PROPFIND /webdav/output/81a97360ea4944d3b764d8c7e60e885e/ HTTP/1.1' 207 628 Note: After a few seconds, the response to propfind for that resource is OK again.",
  "SR": "1. Execute a propfind call on a resource.\n2. Execute a mkcol for the same resource.\n3. Execute another propfind on the same resource.\n4. Observe the 404 error. To reproduce the issue, ensure that the mkcol is preceded by a propfind. Check the provided access log for reference."
}

{"id": "50059", "title": "Bug 50059: Resources not served from /WEBINF/lib/{.jar}/METAINF/resources if metadatacomplete=\"true\" is set in web.xml", "description": "Bug 50059: Resources are not served from /WEBINF/lib/{.jar}/METAINF/resources if metadatacomplete=\"true\" is set in web.xml. Make a Servlet 3.0 webapp (let's name it foo) with the metadatacomplete=\"true\" attribute set on the webapp element in the /WEBIBNF/web.xml.", "OB": "Start the foo web app in Tomcat 7.0.2 and go to http://localhost:8080/foo/index.html in a browser. The expected result is a 200 response with index.html served. However, the actual result is a 404 error. If the web.xml is modified to metadatacomplete=\"false\" and the app is restarted, accessing /foo/index.html will respond as expected. Testing the same webapp with Glassfish v3.0.1 shows that it works as expected regardless of the metadatacomplete attribute. ", "EB": "The issue occurs when a Servlet 3.0 webapp has metadatacomplete=\"true\" set in the web.xml file. Resources located at /WEBINF/lib/{.jar}/METAINF/resources are not served properly.", "SR": "To reproduce the issue: \n1. Create a jar file containing a single /METAINF/resources/index.html file. \n2. Start the foo web app in Tomcat 7.0.2. \n3. Access http://localhost:8080/foo/index.html in a browser. The expected result is a 200 response with index.html served, but the actual result is a 404 error. \n4. Modify the web.xml to include metadatacomplete=\"false\" and restart the app. Accessing /foo/index.html will now respond as expected."}
{"id": "50059", "title": "Bug 50059: Resources not served from /WEBINF/lib/{.jar}/METAINF/resources if metadatacomplete=\"true\" is set in web.xml", "description": "Bug 50059: Resources are not served from /WEBINF/lib/{.jar}/METAINF/resources if metadatacomplete=\"true\" is set in web.xml. When a Servlet 3.0 webapp with the metadatacomplete=\"true\" attribute set on the webapp element in the /WEBIBNF/web.xml, the resources located in /METAINF/resources are not served properly.", "OB": "The resources located in /METAINF/resources should be served even when the metadatacomplete=\"true\" attribute is set in the web.xml.", "EB": "The resources located in /METAINF/resources are not being served when the metadatacomplete=\"true\" attribute is set in the web.xml.", "SR": "To reproduce:\n1. Create a jar file containing a single index.html file located at /METAINF/resources.\n2. Start the web app in Tomcat 7.0.2.\n3. In a browser, go to http://localhost:8080/foo/index.html.\n\nExpected result: The server should respond with a 200 status code and serve the index.html file.\nActual result: The server responds with a 404 status code, indicating that the resource was not found.\n\nAdditional information:\n- Modifying the web.xml to set the metadatacomplete=\"false\" attribute and restarting the app allows /foo/index.html to be served as expected.\n- The issue was reproduced with Tomcat 7.0.2, but not with Glassfish v3.0.1.\n- According to the Servlet 3.0 specification, the metadatacomplete attribute only regulates annotation and web fragment processing, but in this case, it seems to affect the serving of resources as well."}
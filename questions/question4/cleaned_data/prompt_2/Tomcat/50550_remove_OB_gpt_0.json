{"id": "50550", "title": "Bug 50550: PropFind 404 error after MkCol success", "description": "Bug 50550: PropFind 404 error after MkCol success. This bug suggests that the issue is related to caching. Note: This situation is similar to bug 21288, which was fixed and involved a 'DirContext caching problem with Dreamweaver 6 when recursively creating directories.' The bug is reproducible using a jackrabbit client. Here is the code snippet to reproduce the bug: \n\nHttpClient client = new HttpClient();\nString newDir = 'http://localhost:8080/webdav/output/' + UUID.randomUUID() + '/';\n// Comment out this request to make the second PropFind successful\nHttpMethod propFindMethod1 = new PropFindMethod(newDir);\nclient.executeMethod(propFindMethod1);\npropFindMethod1.releaseConnection();\n\nHttpMethod mkcolMethod = new MkColMethod(newDir);\nclient.executeMethod(mkcolMethod);\nmkcolMethod.releaseConnection();\n\nHttpMethod propFindMethod = new PropFindMethod(newDir);\nclient.executeMethod(propFindMethod);\npropFindMethod.releaseConnection();", "OB": "", "EB": "The issue can be triggered by making sure a PropFind call precedes the MkCol call. Steps to reproduce the bug are as follows: \n\n1. See the following access log: \n127.0.0.1[06/Jan/2011:14:09:19 +0100] 'PROPFIND /webdav/output/f469e3d6e536407282dad989acaf57a2/ HTTP/1.1' 404 1084\n127.0.0.1[06/Jan/2011:14:09:19 +0100] 'MKCOL /webdav/output/f469e3d6e536407282dad989acaf57a2/ HTTP/1.1' 201\n127.0.0.1[06/Jan/2011:14:09:19 +0100] 'PROPFIND /webdav/output/f469e3d6e536407282dad989acaf57a2/ HTTP/1.1' 404 1084\n\n2. When the first request is omitted, the third request is successful. See the access log: \n127.0.0.1[06/Jan/2011:14:10:39 +0100] 'MKCOL /webdav/output/81a97360ea4944d3b764d8c7e60e885e/ HTTP/1.1' 201\n127.0.0.1[06/Jan/2011:14:10:39 +0100] 'PROPFIND /webdav/output/81a97360ea4944d3b764d8c7e60e885e/ HTTP/1.1' 207 628\n\nNote: After a few seconds, the response to PropFind for that resource is OK again.", "SR": "The bug occurs when a PropFind call on a resource returns a 404 error after a MkCol call for the same resource is executed."}
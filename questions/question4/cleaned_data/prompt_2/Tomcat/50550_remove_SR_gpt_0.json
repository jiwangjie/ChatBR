{"id": "50550", "title": "Bug 50550: PropFind 404 error after successful MkCol", "description": "Bug 50550: PropFind 404 error after successful MkCol. This bug seems to be related to caching. Note2: This situation is similar to bug 21288 (FIXED: 'DirContext caching problem with Dreamweaver 6 when recursively creating directories'). To reproduce the bug, use a jackrabbit client with the following code:\n\nHttpClient client = new HttpClient();\nString newDir = 'http://localhost:8080/webdav/output/' + UUID.randomUUID() + '/';\n// Comment out this request to make second PropFind successful\nHttpMethod propFindMethod1 = new PropFindMethod(newDir);\nclient.executeMethod(propFindMethod1);\npropFindMethod1.releaseConnection();\nHttpMethod mkcolMethod = new MkColMethod(newDir);\nclient.executeMethod(mkcolMethod);\nmkcolMethod.releaseConnection();\nHttpMethod propFindMethod = new PropFindMethod(newDir);\nclient.executeMethod(propFindMethod);\npropFindMethod.releaseConnection();", "OB": "When making a PropFind call on a resource after executing a MkCol for the same resource, a 404 error is returned.", "EB": "To trigger the issue, the MkCol request should be preceded by a PropFind request. Steps to reproduce:\n1. Make a PropFind request for a resource:\n   - Request: 'PROPFIND /webdav/output/f469e3d6e536407282dad989acaf57a2/ HTTP/1.1'\n   - Response: '404'\n2. Make a MkCol request for the same resource:\n   - Request: 'MKCOL /webdav/output/f469e3d6e536407282dad989acaf57a2/ HTTP/1.1'\n   - Response: '201'\n3. Make another PropFind request for the same resource:\n   - Request: 'PROPFIND /webdav/output/f469e3d6e536407282dad989acaf57a2/ HTTP/1.1'\n   - Response: '404'\n\nNote: If the first PropFind request is omitted, the third PropFind request would be successful.", "SR": "The issue can be resolved by ensuring that a PropFind request is made before the MkCol request. Follow these steps to resolve the issue:\n1. Make a PropFind request for the resource before making the MkCol request.\n2. Verify that the response to the PropFind request shows a successful status code (200).\n3. Make the MkCol request for the same resource.\n4. Verify that the response to the MkCol request shows a successful status code (201).\n5. Make a PropFind request for the resource again.\n6. Verify that the response to the PropFind request shows a successful status code (200).\n\nAfter a few seconds, the response to the PropFind request for that resource should return successfully again."}
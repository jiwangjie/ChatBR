{"id": "49195", "title": "Bug 49195: Using 1 as shutdown port with Windows service works, but prints error message", "description": "Specify <Server port=\"1\" in server.xml. That can be used to differentiate the two use cases. There could be improvements on how to stop Tomcat. System.exit(0) would work regardless of all that. I suppose that jsvc may show the same behaviour, but I have not tried.", "OB": "When using System.exit(0) to stop Tomcat, an error message is printed even though the shutdown port (1) is functioning correctly. It would be more appropriate to improve the shutdown process to avoid the error message being printed.", "EB": "If that is the case, it would be better to use wait(10000) instead of sleep(10000) in StandardServer.await(), so that it could be woken by a notifyAll() call, or use the interrupt() call to wake it up (if we know the thread).", "SR": "Improve the shutdown process in Tomcat when using System.exit(0) to avoid the unnecessary printing of an error message when the shutdown port (1) is functioning correctly. Consider using wait(10000) instead of sleep(10000) in StandardServer.await() to enable waking up by a notifyAll() call or using the interrupt() call to wake up the thread (if known)."}
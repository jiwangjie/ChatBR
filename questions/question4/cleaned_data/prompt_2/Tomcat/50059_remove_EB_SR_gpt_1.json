{
  "id": "50059",
  "title": "Bug 50059: Failure to Serve Resources from /WEBINF/lib/{.jar}/METAINF/resources with metadatacomplete=\"true\" in web.xml",
  "description": "When setting metadatacomplete=\"true\" in the web.xml file of a Servlet 3.0 web application named 'foo,' resources are not served from /WEBINF/lib/{.jar}/METAINF/resources. This issue causes a 404 error when accessing http://localhost:8080/foo/index.html. When modifying the web.xml to metadatacomplete=\"false\" and restarting the app, /foo/index.html responds as expected. Notably, this problem is observed in Tomcat 7.0.2 but not in Glassfish v3.0.1, where regardless of the metadatacomplete attribute, the webapp functions as expected. According to the Servlet 3.0 spec, metadatacomplete is meant to regulate annotation and web fragment processing. However, in the case of 'bar.jar,' which is not related to annotations or a web fragment, its handling differs based on the metadatacomplete attribute.",
  "OB": "When starting the web app 'foo' in Tomcat 7.0.2 and navigating to http://localhost:8080/foo/index.html in a browser, the expected behavior is to receive a 200 response and have index.html served. Instead, the actual behavior observed is a 404 error.",
  "EB": "The expected behavior is for the web application 'foo' with metadatacomplete=\"true\" in web.xml to serve index.html successfully at http://localhost:8080/foo/index.html without any 404 errors.",
  "SR": "1. Create a Servlet 3.0 web application named 'foo'.\n2. Set metadatacomplete=\"true\" in the web.xml file for 'foo'.\n3. Start the application in Tomcat 7.0.2.\n4. Access http://localhost:8080/foo/index.html in a web browser.\n5. Observe the 404 error instead of the expected 200 response.\n6. Modify web.xml to metadatacomplete=\"false\" and restart the application.\n7. Access http://localhost:8080/foo/index.html again to confirm the expected response without any errors."
}

{
  "id": "22360",
  "title": "Bug 22360 [Fonts] FontRegistry instantiation issue with resources outside org.eclipse.jface.resource",
  "description": "Bug 22360 [Fonts] FontRegistry cannot be instantiated using resources outside org.eclipse.jface.resource. Currently, all resources being looked up are relative to the location of the FontRegistry class in the org.eclipse.jface.resource path. This issue could be addressed by allowing FontRegistry to take a client class (or class loader) as an additional parameter in the constructor.",
  "OB": "When attempting to create a FontRegistry instance for my application using the following code:\n\n```java\ncom.company.product.MyClass\npublic void createFontRegistry() {\n  FontRegistry fonts = new FontRegistry(\"com.company.product.fonts\");\n}\n```\nI encounter a MissingResourceException. I have a 'fonts.properties' file in my 'com/company/product/' folder. However, if I use the following code instead:\n\n```java\ncom.company.product.MyClass\npublic void createFontRegistry() {\n  ResourceBundle fonts = ResourceBundle.getBundle(\"com.company.product.fonts\");\n}\n```\nNo exception is thrown. Additionally, if I create a complete copy of the FontRegistry class in my 'com.company.product' package, it works. It seems to be a bug in FontRegistry, where it attempts to load the fonts resource bundle using the FontRegistry's class loader (see 'readResourceBundle(String)' method in FontRegistry).",
  "EB": "FontRegistry should be able to instantiate successfully when using resources outside the 'org.eclipse.jface.resource' path. The MissingResourceException should be resolved, and FontRegistry should correctly load the fonts resource bundle.",
  "SR": "1. Create a class in the 'com.company.product' package.\n2. Attempt to create a FontRegistry instance using the code:\n\n```java\ncom.company.product.MyClass\npublic void createFontRegistry() {\n  FontRegistry fonts = new FontRegistry(\"com.company.product.fonts\");\n}\n```\n3. Observe the MissingResourceException.\n4. Modify the code to use ResourceBundle and observe that no exception is thrown.\n5. Create a complete copy of the FontRegistry class in the 'com.company.product' package and observe that it works without issues."
}

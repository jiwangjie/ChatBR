{"code": 200, "status": "success", "bug_report": {"0": {"text": "Bug 43236  Response.setCharacterEncoding() fails after Response.getWriter() and Response.reset().", "labels": ["OB"]}, "1": {"text": "The class org.apache.catalina.connector.Response  resets the internal hold coyoteResponse and outputBuffer during reset():      public void reset() {         if (included)             return;     // Ignore any call from an included servlet         coyoteResponse.reset();         outputBuffer.reset();     }  but if anyone has already set the characterEncoding (e.g.", "labels": ["SR"]}, "2": {"text": "to UTF-8) and already got the writer, than all following invocations of request.setCharacterEncoding() will do nothing, because the internal save flag for usingWriter is not reseted.", "labels": ["OB"]}, "3": {"text": "This is very annoying, because the coyoteResponse.reset(), resets the characterEncoding to iso8859-1.", "labels": []}, "4": {"text": "So I have no change to change/reset the charaterEncoding to UTF-8.", "labels": []}, "5": {"text": "I'll think if you reset the response, you should also reset the usingWriter flag or add another special flag, that works with this circumstances.", "labels": ["OB", "EB"]}}}